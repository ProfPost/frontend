import{$ as kn,Aa as gi,B as cn,Ba as At,C as dn,Ca as ie,D as un,Da as Nt,E as mn,F as pn,G as pi,I as Ze,L as te,M as hn,N as fn,O as gn,P as _n,Q as vn,R as bn,S as yn,T as Cn,U as wn,V as hi,W as St,X as Sn,Y as xt,Z as xn,_ as Mn,aa as Dn,ba as In,c as he,ca as Mt,d as Xe,da as kt,e as Xi,ea as On,f as fe,fa as En,g as Zi,ga as Tn,h as Ji,ha as Fn,i as Oe,ia as Dt,j as en,ja as It,k as yt,ka as Rt,l as Ct,la as Pt,m as tn,n as nn,na as An,o as wt,oa as Ot,pa as Nn,q as on,qa as st,r as ge,ra as Et,s as rn,sa as Ln,t as an,u as sn,ua as Tt,v as rt,va as Ft,wa as jn,xa as Vn,y as ln,ya as Te,z as mi,za as fi}from"./chunk-H3CLWMWT.js";import{a as W,f as qi,g as Yi,h as Ki,i as pe,j as Gi,n as Q,p as bt}from"./chunk-ZAGS7POU.js";import{c as Je,d as Ve,f as _e,g as at,i as Ee,j as Rn,k as Pn}from"./chunk-EJJBCPAK.js";import{$ as N,$a as J,$b as $,Aa as H,Ab as l,Ac as je,B as Se,Ba as de,Bb as k,C as xe,Ca as ht,Da as z,E as Ni,Ea as Bi,Eb as G,Fb as D,Hc as Qi,I as Ae,Ib as v,Ic as Pe,Jc as ee,K as di,Kb as p,L as Li,Lb as ae,M as ji,Mb as j,Mc as vt,Ob as V,Oc as me,Pb as Le,Qb as O,R as Vi,Rb as E,U as Ne,Ua as qe,Ub as Ye,V as $e,Va as Hi,Vb as c,W as q,Wb as I,Xb as U,Y as mt,Ya as u,Yb as ke,Za as d,Zb as De,_b as Ie,a as Fe,aa as le,ac as S,b as Pi,ca as B,cc as $i,dc as Re,e as ze,ea as ye,eb as Me,ec as Wi,fa as h,fc as Ke,gc as _t,j as ne,ja as w,jb as L,k as Oi,ka as ce,kb as K,la as x,m as ci,ma as Ui,nb as y,oc as Ce,p as Z,pb as ft,pc as Ge,q as Ei,qb as re,r as Ti,ra as We,rb as b,rc as P,sa as g,sb as ue,sc as ui,t as be,ta as _,tb as gt,ua as pt,ub as zi,vb as Y,wa as oe,xa as Qe,y as Fi,ya as ot,z as Ai,zb as s}from"./chunk-3G4MZ7MC.js";var Lt=class n{baseURL=`${Q.baseURL}/plans`;http=h(W);getPlans(){return this.http.get(`${this.baseURL}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function go(n,r){if(n&1){let e=D();s(0,"div",1)(1,"div",2)(2,"button",3),v("click",function(){g(e);let i=p();return _(i.closePopup())}),c(3,"\xD7"),l(),s(4,"h3"),c(5,"Completar compra"),l(),s(6,"p"),c(7,"Resumen de compra:"),l(),s(8,"div",4)(9,"span"),c(10,"Suscripci\xF3n a:"),l(),s(11,"span"),c(12),l()(),s(13,"div",4)(14,"span"),c(15,"Tipo de plan:"),l(),s(16,"span"),c(17),l()(),s(18,"div",4)(19,"span"),c(20,"Se renueva cada:"),l(),s(21,"input",5),Ie("ngModelChange",function(i){g(e);let o=p();return De(o.selectedMonths,i)||(o.selectedMonths=i),_(i)}),v("input",function(){g(e);let i=p();return _(i.calculateTotalPrice())}),l(),s(22,"span"),c(23,"mes(es)"),l()(),s(24,"div",4)(25,"span"),c(26,"Precio:"),l(),s(27,"span"),c(28),Re(29,"number"),l()(),s(30,"div",6)(31,"span"),c(32,"M\xE9todo de pago:"),l(),k(33,"img",7),s(34,"span",8),c(35,"Seguro"),l()(),s(36,"button",9),v("click",function(){g(e);let i=p();return _(i.continueSubscription())}),c(37,"Siguiente"),l(),s(38,"p",10),c(39),l()()()}if(n&2){let e=p();u(12),I(e.userName),u(5),I(e.planName),u(4),ke("ngModel",e.selectedMonths),u(7),U("$ ",Ke(29,5,e.totalPrice,"1.2-2"),""),u(11),U("Esta suscripci\xF3n apoya de forma directa a ",e.userName,".")}}function _o(n,r){if(n&1){let e=D();s(0,"div",1)(1,"div",2)(2,"button",3),v("click",function(){g(e);let i=p();return _(i.closePopup())}),c(3,"\xD7"),l(),s(4,"h3"),c(5,"A un paso de completar tu compra"),l(),s(6,"p"),c(7,"Resumen total:"),l(),s(8,"div",4)(9,"span"),c(10,"Total:"),l(),s(11,"span"),c(12),Re(13,"number"),l()(),s(14,"div",6)(15,"span"),c(16,"M\xE9todo de pago:"),l(),k(17,"img",7),s(18,"span",8),c(19,"Seguro"),l()(),s(20,"button",9),v("click",function(){g(e);let i=p();return _(i.redirectToPayPal())}),c(21,"Ir a PayPal"),l()()()}if(n&2){let e=p();u(12),U("$ ",Ke(13,1,e.totalPrice,"1.2-2"),"")}}var jt=class n{userName="";userId=0;creatorId=0;planName="";planPrice=0;planId=0;selectedMonths=1;totalPrice=0;isPopupVisible=!0;isPaymentConfirmationVisible=!1;popupClosed=new H;redirect=new H;ngOnInit(){this.loadSubscriptionData(),this.calculateTotalPrice()}loadSubscriptionData(){let r=JSON.parse(localStorage.getItem("selectedUser")||"{}"),e=JSON.parse(localStorage.getItem("selectedPlan")||"{}"),t=JSON.parse(localStorage.getItem("profpost_auth")||"{}");this.creatorId=r.userId,this.userName=r.userName,this.userId=t.id,this.planName=e.name,this.planId=e.id,this.planPrice=e.price,this.calculateTotalPrice()}calculateTotalPrice(){this.totalPrice=this.selectedMonths*this.planPrice}continueSubscription(){this.isPopupVisible=!1,this.isPaymentConfirmationVisible=!0;let r={user_id:this.userId,creator_id:this.creatorId,plan_id:this.planId,months:this.selectedMonths};localStorage.setItem("subscriptionData",JSON.stringify(r))}closePopup(){this.isPopupVisible=!1,this.isPaymentConfirmationVisible=!1,localStorage.removeItem("selectedPlan"),localStorage.removeItem("subscriptionData"),this.popupClosed.emit()}redirectToPayPal(){this.redirect.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["app-subscription"]],outputs:{popupClosed:"popupClosed",redirect:"redirect"},standalone:!0,features:[S],decls:4,vars:2,consts:[["class","popup-overlay",4,"ngIf"],[1,"popup-overlay"],[1,"popup"],[1,"close-button",3,"click"],[1,"summary-item"],["type","number","min","1","max","12",1,"month-input",3,"ngModelChange","input","ngModel"],[1,"payment-method"],["src","assets/images/payments/paypal_logo.png","alt","Paypal",1,"paypal-image"],[1,"secure-text"],[1,"subscribe-button",3,"click"],[1,"support-text"]],template:function(e,t){e&1&&(s(0,"p"),c(1,"Hola"),l(),y(2,go,40,8,"div",0)(3,_o,22,4,"div",0)),e&2&&(u(2),b("ngIf",t.isPopupVisible),u(),b("ngIf",t.isPaymentConfirmationVisible))},dependencies:[ee,ge,he,yt,fe,wt,nn,Oe,vt],styles:[".popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.popup[_ngcontent-%COMP%]{position:relative;background-color:#fff;padding:20px;border-radius:8px;width:400px;box-shadow:0 4px 8px #0003;text-align:center}.summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:10px 0}.month-input[_ngcontent-%COMP%]{width:50px;text-align:center}.payment-method[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:20px 0}.paypal-image[_ngcontent-%COMP%]{width:50px;margin:0 5px}.secure-text[_ngcontent-%COMP%]{font-size:12px;color:#888}.subscribe-button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;width:100%;margin-top:10px}.support-text[_ngcontent-%COMP%]{font-size:12px;color:#888;margin-top:10px}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:transparent;border:none;font-size:24px;cursor:pointer;color:#333}.close-button[_ngcontent-%COMP%]:hover{color:#28a745}"]})};var Vt=class n{baseURL=`${Q.baseURL}/subscription`;http=h(W);subscribe(r){return this.http.post(`${this.baseURL}`,r)}isUserSubscribedToCreator(r,e){return this.http.get(`${this.baseURL}/is-subscribed?userId=${r}&creatorId=${e}`)}getActiveSubscriptions(r){return this.http.get(`${this.baseURL}/active?userId=${r}`)}unsuscribe(r){return this.http.delete(`${this.baseURL}/${r}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function vo(n,r){n&1&&(s(0,"h2"),c(1,"Suscribirse"),l())}function bo(n,r){n&1&&(s(0,"p"),c(1,"Ya est\xE1s suscrito a este creador."),l())}function yo(n,r){if(n&1){let e=D();s(0,"div",5)(1,"h3",6),c(2),l(),s(3,"div",7)(4,"span",8),c(5,"$"),l(),c(6),s(7,"span",9),c(8,"/mensual"),l()(),s(9,"p",10),c(10),l(),s(11,"button",11),v("click",function(){let i=g(e).$implicit,o=p(2);return _(o.subscribeToPlan(i))}),c(12,"Suscribirse"),l()()}if(n&2){let e=r.$implicit;u(2),I(e.name),u(4),U("",e.price," "),u(4),I(e.description)}}function Co(n,r){if(n&1&&(s(0,"div",3),y(1,yo,13,3,"div",4),l()),n&2){let e=p();u(),b("ngForOf",e.plans)}}function wo(n,r){if(n&1){let e=D();s(0,"div")(1,"app-subscription",12),v("popupClosed",function(){g(e);let i=p();return _(i.isPopupVisible=!1)})("redirect",function(){g(e);let i=p();return _(i.startPaymentProcess())}),l()()}}var Ut=class n{plans=[];isPopupVisible=!1;selectedPlan;isSubscribed=!1;snackBar=h(ie);showPlanService=h(Lt);subscriptionService=h(Vt);router=h(pe);ngOnInit(){this.fetchPlans();let r=JSON.parse(localStorage.getItem("profpost_auth")||"{}"),e=JSON.parse(localStorage.getItem("selectedUser")||"{}");this.checkSubscriptionStatus(r.id,e.userId)}fetchPlans(){this.showPlanService.getPlans().subscribe(r=>{this.plans=r},r=>{this.showSnackBar("Error al cargar los planes")})}showSnackBar(r){this.snackBar.open(r,"Cerrar",{duration:3e3})}subscribeToPlan(r){localStorage.setItem("selectedPlan",JSON.stringify(r)),this.selectedPlan=r,this.isPopupVisible=!0}startPaymentProcess(){this.isPopupVisible=!1,this.router.navigate(["/reader/subscription/checkout"])}checkSubscriptionStatus(r,e){this.subscriptionService.isUserSubscribedToCreator(r,e).subscribe({next:t=>{this.isSubscribed=t,this.isSubscribed?this.showSnackBar("Ya est\xE1s suscrito a este creador"):this.fetchPlans()},error:()=>{this.showSnackBar("Error al verificar suscripci\xF3n")}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["app-show-plans"]],standalone:!0,features:[S],decls:5,vars:4,consts:[[1,"plans-container"],[4,"ngIf"],["class","plans-grid",4,"ngIf"],[1,"plans-grid"],["class","plan-card",4,"ngFor","ngForOf"],[1,"plan-card"],[1,"plan-name"],[1,"plan-price"],[1,"currency-symbol"],[1,"per-month"],[1,"plan-description"],[1,"subscribe-button",3,"click"],[3,"popupClosed","redirect"]],template:function(e,t){e&1&&(s(0,"div",0),y(1,vo,2,0,"h2",1)(2,bo,2,0,"p",1)(3,Co,2,1,"div",2),l(),y(4,wo,2,0,"div",1)),e&2&&(u(),b("ngIf",!t.isSubscribed),u(),b("ngIf",t.isSubscribed),u(),b("ngIf",!t.isSubscribed),u(),b("ngIf",t.isPopupVisible))},dependencies:[Pe,jt,ee],styles:[".plans-container[_ngcontent-%COMP%]{text-align:center;font-family:Arial,sans-serif;color:#333;background-color:#e5e8d8}h2[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:20px}.plans-grid[_ngcontent-%COMP%]{display:flex;gap:20px;flex-wrap:wrap}.plan-card[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:20px;border-radius:8px;width:200px;box-shadow:0 4px 8px #0000001a;transition:transform .3s}.plan-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}h3[_ngcontent-%COMP%]{font-size:1.2rem;margin:0;color:#333}.plan-price[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#000;margin:10px 0}.per-month[_ngcontent-%COMP%]{font-size:1rem;color:#666}.plan-description[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin-bottom:15px}.subscribe-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-weight:700}.subscribe-button[_ngcontent-%COMP%]:hover{background-color:#388e3c}.plan-name[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#333;text-align:left}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:transparent;border:none;font-size:24px;cursor:pointer;color:#333}.close-button[_ngcontent-%COMP%]:hover{color:#28a745}"]})};var et=class n{baseURL=`${Q.baseURL}/user/profile`;http=h(W);getUserProfile(r){return this.http.get(`${this.baseURL}/${r}`)}updateUserProfile(r,e){return this.http.put(`${this.baseURL}/${r}`,e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function So(n,r){if(n&1){let e=D();s(0,"div",3)(1,"div",4)(2,"button",5),v("click",function(){g(e);let i=p();return _(i.closePopup())}),c(3,"\xD7"),l(),s(4,"h3"),c(5,"Realizar Donaci\xF3n"),l(),s(6,"p"),c(7,"Resumen de la donaci\xF3n:"),l(),s(8,"div",6)(9,"span"),c(10,"Donaci\xF3n a:"),l(),s(11,"span"),c(12),l()(),s(13,"div",6)(14,"span"),c(15,"Monto a donar:"),l(),s(16,"input",7),Ie("ngModelChange",function(i){g(e);let o=p();return De(o.donationAmount,i)||(o.donationAmount=i),_(i)}),v("input",function(){g(e);let i=p();return _(i.calculateTotalPrice())}),l(),s(17,"span"),c(18,"USD"),l()(),s(19,"div",6)(20,"span"),c(21,"Total:"),l(),s(22,"span"),c(23),Re(24,"number"),l()(),s(25,"div",8)(26,"span"),c(27,"M\xE9todo de pago:"),l(),k(28,"img",9),s(29,"span",10),c(30,"Seguro"),l()(),s(31,"button",11),v("click",function(){g(e);let i=p();return _(i.processDonation())}),c(32,"Siguiente"),l(),s(33,"p",12),c(34),l()()()}if(n&2){let e=p();u(12),I(e.userName),u(4),ke("ngModel",e.donationAmount),u(7),U("$ ",Ke(24,4,e.donationAmount,"1.2-2"),""),u(11),U("Tu donaci\xF3n apoyar\xE1 directamente a ",e.userName,".")}}function xo(n,r){if(n&1){let e=D();s(0,"div",3)(1,"div",4)(2,"button",5),v("click",function(){g(e);let i=p();return _(i.isConfirmationPopupVisible=!1)}),c(3,"\xD7"),l(),s(4,"h3"),c(5,"Confirmaci\xF3n de Donaci\xF3n"),l(),s(6,"p"),c(7,"\xA1Gracias por tu generosa donaci\xF3n!"),l(),s(8,"div",6)(9,"span"),c(10,"Donaci\xF3n a:"),l(),s(11,"span"),c(12),l()(),s(13,"div",6)(14,"span"),c(15,"Monto donado:"),l(),s(16,"span"),c(17),Re(18,"number"),l()(),s(19,"div",8)(20,"span"),c(21,"M\xE9todo de pago:"),l(),k(22,"img",9),s(23,"span",10),c(24,"Seguro"),l()(),s(25,"button",11),v("click",function(){g(e);let i=p();return _(i.goToPayPal())}),c(26,"Ir a Pagar"),l()()()}if(n&2){let e=p();u(12),I(e.userName),u(5),U("$ ",Ke(18,2,e.donationAmount,"1.2-2"),"")}}var Bt=class n{userName="";userId=0;creatorId=0;donationAmount=1;isPopupVisible=!1;totalPrice;isConfirmationPopupVisible=!1;popupClosed=new H;redirect=new H;snackBar=h(ie);ngOnInit(){this.loadUserData()}loadUserData(){let r=JSON.parse(localStorage.getItem("selectedUser")||"{}"),e=JSON.parse(localStorage.getItem("profpost_auth")||"{}");this.creatorId=r.userId,this.userName=r.userName,this.userId=e.id}openPopup(){this.isPopupVisible=!0}closePopup(){this.isPopupVisible=!1,localStorage.removeItem("selectedPlan"),this.popupClosed.emit()}processDonation(){this.isPopupVisible=!1,this.isConfirmationPopupVisible=!0;let r={creatorId:this.creatorId,amount:this.donationAmount};localStorage.setItem("donationData",JSON.stringify(r))}calculateTotalPrice(){if(this.totalPrice,this.donationAmount<1){this.showSnackBar("Ingresa un monto v\xE1lido para la donaci\xF3n");return}}goToPayPal(){this.redirect.emit()}showSnackBar(r){this.snackBar.open(r,"Cerrar",{duration:3e3})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["app-donation"]],outputs:{popupClosed:"popupClosed",redirect:"redirect"},standalone:!0,features:[S],decls:5,vars:2,consts:[[1,"donate-container"],[1,"donate-button",3,"click"],["class","popup-overlay",4,"ngIf"],[1,"popup-overlay"],[1,"popup"],[1,"close-button",3,"click"],[1,"summary-item"],["type","number","min","1",1,"donation-input",3,"ngModelChange","input","ngModel"],[1,"payment-method"],["src","assets/images/payments/paypal_logo.png","alt","Paypal",1,"paypal-image"],[1,"secure-text"],[1,"realize-button",3,"click"],[1,"support-text"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"button",1),v("click",function(){return t.openPopup()}),c(2," Donar "),l()(),y(3,So,35,7,"div",2)(4,xo,27,5,"div",2)),e&2&&(u(3),b("ngIf",t.isPopupVisible),u(),b("ngIf",t.isConfirmationPopupVisible))},dependencies:[vt,ge,he,yt,fe,wt,Oe,ee],styles:[".donation-input[_ngcontent-%COMP%]{width:100px;text-align:center;padding:5px;margin-top:10px}.donate-button[_ngcontent-%COMP%]{color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;width:100%;margin-top:10px}.donate-button[_ngcontent-%COMP%]:hover{background-color:#065c32}.donate-button[_ngcontent-%COMP%]{background-color:#087443;color:#fff;padding:10px 20px;width:100px;height:40px;font-size:16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease;position:absolute;right:20px;bottom:120px;text-align:center}.popup-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.popup[_ngcontent-%COMP%]{position:relative;background-color:#fff;padding:20px;border-radius:8px;width:400px;box-shadow:0 4px 8px #0003;text-align:center}.summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:10px 0}.month-input[_ngcontent-%COMP%]{width:50px;text-align:center}.payment-method[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:20px 0}.paypal-image[_ngcontent-%COMP%]{width:50px;margin:0 5px}.secure-text[_ngcontent-%COMP%]{font-size:12px;color:#888}.subscribe-button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;width:100%;margin-top:10px}.support-text[_ngcontent-%COMP%]{font-size:12px;color:#888;margin-top:10px}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:transparent;border:none;font-size:24px;cursor:pointer;color:#333}.close-button[_ngcontent-%COMP%]:hover{color:#28a745}.realize-button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;font-size:16px;border:none;border-radius:4px;width:200px;height:50px;transition:background-color .3s ease}.realize-button[_ngcontent-%COMP%]:hover{background-color:#087443}"]})};function Mo(n,r){if(n&1){let e=D();s(0,"app-donation",15),v("redirect",function(){g(e);let i=p(2);return _(i.startPaymentProcess())}),l()}}function ko(n,r){if(n&1){let e=D();s(0,"button",16),v("click",function(){g(e);let i=p(2);return _(i.navigateToUpdateProfile())}),c(1," Editar Perfil "),l()}}function Do(n,r){if(n&1){let e=D();s(0,"button",17),v("click",function(){g(e);let i=p(2);return _(i.navigateToHistoryOrders())}),c(1," Ver historial de pagos "),l()}}function Io(n,r){n&1&&k(0,"app-show-plans")}function Ro(n,r){if(n&1){let e=D();s(0,"div",2)(1,"a",3),v("click",function(){g(e);let i=p();return _(i.navigateBack())}),k(2,"i",4),c(3),l(),s(4,"div",5),k(5,"img",6),s(6,"div",7)(7,"h2"),c(8),l(),s(9,"p",8),c(10),l(),s(11,"p",9),c(12),l(),k(13,"br")(14,"br"),y(15,Mo,1,0,"app-donation",10)(16,ko,2,0,"button",11)(17,Do,2,0,"button",12),l()(),k(18,"router-outlet"),s(19,"div",13),y(20,Io,1,0,"app-show-plans",14),l()()}if(n&2){let e=p();u(3),U(" ",e.profile.name," "),u(5),I(e.profile.name),u(2),U("Rol: ",e.profile.role,""),u(2),I(e.profile.biography),u(3),b("ngIf",e.isCreatorProfile&&!e.isOwnProfile),u(),b("ngIf",e.isOwnProfile),u(),b("ngIf",e.isOwnProfile&&e.authService.getUserRole()==="READER"),u(3),b("ngIf",e.isCreatorProfile&&!e.isOwnProfile)}}var Un=class n{profile;isOwnProfile=!1;isCreatorProfile=!1;isSelectUserCreator=!1;userProfileService=h(et);authService=h(bt);router=h(pe);snackBar=h(ie);route=h(Yi);ngOnInit(){this.loadUserProfile(),this.checkIfCreator()}loadUserProfile(){let e=this.authService.getUser()?.id;this.route.paramMap.subscribe(t=>{let i=Number(t.get("id"));i?this.userProfileService.getUserProfile(i).subscribe({next:o=>{if(this.profile=o,this.isOwnProfile=o.id===e,this.showSnackBar("Perfil cargado con \xE9xito"),this.isCreatorProfile=o.role==="CREATOR",this.showSnackBar("Perfil cargado con \xE9xito"),this.isCreatorProfile){let a={userName:o.name,userId:o.id,userRole:o.role};localStorage.setItem("selectedUser",JSON.stringify(a))}},error:o=>{this.showSnackBar("Error al cargar el perfil")}}):e?this.userProfileService.getUserProfile(e).subscribe({next:o=>{this.profile=o,this.isOwnProfile=!0,this.showSnackBar("Perfil cargado con \xE9xito")},error:o=>{this.showSnackBar("Error al cargar el perfil")}}):(this.showSnackBar("Usuario no autenticado"),this.router.navigate(["/auth/login"]))})}navigateToUpdateProfile(){let e=this.authService.getUserRole()==="CREATOR"?"/creator/profile/update":"/reader/profile/update";this.router.navigate([e])}navigateToHistoryOrders(){let t="/reader/order/"+this.authService.getUser()?.id;this.router.navigate([t])}checkIfCreator(){let r=localStorage.getItem("selectedUser");if(r){let e=JSON.parse(r);this.isSelectUserCreator=e.userRole==="CREATOR"}}showSnackBar(r){this.snackBar.open(r,"Cerrar",{duration:3e3})}startPaymentProcess(){this.router.navigate(["/reader/donation/checkout"])}navigateBack(){let r=this.authService.getUserRole();r==="READER"?this.router.navigate(["/reader/search"]):r==="CREATOR"&&this.router.navigate(["/creator/search"]),localStorage.removeItem("selectedUser"),localStorage.removeItem("selectedPlan"),localStorage.removeItem("subscriptionData")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["app-user-profile"]],standalone:!0,features:[S],decls:2,vars:1,consts:[[1,"container-background"],["class","profile-container",4,"ngIf"],[1,"profile-container"],[1,"back-button",3,"click"],[1,"fas","fa-arrow-left"],[1,"profile-content"],["src","assets/images/usuarios/user1.png","alt","Foto de perfil"],[1,"profile-details"],[1,"role"],[1,"biography"],[3,"redirect",4,"ngIf"],["class","update-button",3,"click",4,"ngIf"],["class","history-button",3,"click",4,"ngIf"],[1,"plans-section"],[4,"ngIf"],[3,"redirect"],[1,"update-button",3,"click"],[1,"history-button",3,"click"]],template:function(e,t){e&1&&(s(0,"div",0),y(1,Ro,21,8,"div",1),l()),e&2&&(u(),b("ngIf",t.profile))},dependencies:[me,ee,Ki,Ut,Bt],styles:[".container-background[_ngcontent-%COMP%]{background-color:#e5e8d8;min-height:100vh;padding-top:10px;padding-bottom:10px;display:flex;justify-content:center;border-top:2px solid #ffffff;border-bottom:3px solid #ffffff}.profile-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;background-color:#e5e8d8;max-width:700px;width:100%;font-family:Arial,sans-serif;box-shadow:0 4px 8px #0000001a;border-radius:8px}.back-button[_ngcontent-%COMP%]{align-self:flex-start;display:flex;align-items:center;font-size:16px;color:#757575;text-decoration:none;margin-bottom:20px}.back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.profile-content[_ngcontent-%COMP%]{display:flex;align-items:center;text-align:left;background-color:#e5e8d8;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a;position:relative;width:100%}.profile-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;object-fit:cover;margin-right:20px;border:4px solid #f8f9f4}.profile-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#000;margin:0}.role[_ngcontent-%COMP%]{font-size:15px;color:#757575;margin:5px 0 15px}.biography[_ngcontent-%COMP%]{font-size:19px;color:#000;margin-bottom:20px}.update-button[_ngcontent-%COMP%]{background-color:#087443;color:#fff;padding:10px 20px;font-size:16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease;position:absolute;right:20px;bottom:70px}.history-button[_ngcontent-%COMP%]{background-color:#087443;color:#fff;padding:10px 20px;font-size:16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease;position:absolute;right:20px;bottom:20px}.update-button[_ngcontent-%COMP%]:hover{background-color:#065c32}.plans-section[_ngcontent-%COMP%]{margin-top:20px;padding:10px;background-color:#e5e8d8;border-radius:8px}"]})};function To(n,r){n&1&&(s(0,"mat-error"),c(1,"Este campo es obligatorio"),l())}function Fo(n,r){n&1&&(s(0,"mat-error"),c(1,"Este campo es obligatorio"),l())}function Ao(n,r){n&1&&(s(0,"mat-error"),c(1,"Introduzca un correo electr\xF3nico v\xE1lido"),l())}var Hn=class n{profileForm;profile;profileRoute;fb=h(on);userProfileService=h(et);authService=h(bt);router=h(pe);snackBar=h(ie);constructor(){this.profileForm=this.fb.group({name:["",[Xe.required]],email:["",[Xe.required,Xe.email]],biography:[""]})}ngOnInit(){this.loadUserProfile()}loadUserProfile(){let e=this.authService.getUser()?.id;e?this.userProfileService.getUserProfile(e).subscribe({next:t=>{this.profile=t,this.profileForm.patchValue(t)},error:t=>{this.showSnackBar("Error al cargar el perfil de usuario")}}):(this.showSnackBar("Usuario no autenticado"),this.router.navigate(["/auth/login"]))}controlHasError(r,e){return this.profileForm.controls[r].hasError(e)}onSubmit(){if(this.profileForm.valid){let r=Fe(Fe({},this.profile),this.profileForm.value);this.userProfileService.updateUserProfile(this.profile.id,r).subscribe({next:()=>{this.showSnackBar("Perfil actualizado exitosamente");let t=this.authService.getUserRole()==="CREATOR"?"/creator/profile/list":"/reader/profile";this.router.navigate([t])},error:e=>{this.showSnackBar(e.error?.message||"Error al actualizar el perfil")}})}}showSnackBar(r){this.snackBar.open(r,"Cerrar",{duration:3e3})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["app-update-profile"]],standalone:!0,features:[S],decls:28,vars:5,consts:[[1,"update-profile-container"],[1,"update-profile-card"],[1,"profile-image-container"],[1,"image-wrapper"],["src","assets/images/usuarios/user1.png","alt","Foto de perfil",1,"profile-image"],[1,"camera-icon"],[1,"fas","fa-camera"],[1,"update-profile-form"],[3,"ngSubmit","formGroup"],[1,"form-field"],["matInput","","formControlName","name","placeholder","Ingrese su nombre"],["matInput","","formControlName","email","type","email","placeholder","Ingrese su correo electr\xF3nico"],["matInput","","formControlName","biography","placeholder","Ingrese su descripci\xF3n"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"]],template:function(e,t){e&1&&(s(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),k(4,"img",4),s(5,"div",5),k(6,"i",6),l()()(),s(7,"div",7)(8,"h2"),c(9,"Editar Perfil"),l(),s(10,"form",8),v("ngSubmit",function(){return t.onSubmit()}),s(11,"mat-form-field",9)(12,"mat-label"),c(13,"Name"),l(),k(14,"input",10),y(15,To,2,0,"mat-error"),l(),s(16,"mat-form-field",9)(17,"mat-label"),c(18,"Email"),l(),k(19,"input",11),y(20,Fo,2,0,"mat-error")(21,Ao,2,0,"mat-error"),l(),s(22,"mat-form-field",9)(23,"mat-label"),c(24,"Descripci\xF3n"),l(),k(25,"textarea",12),l(),s(26,"button",13),c(27," Guardar "),l()()()()()),e&2&&(u(10),b("formGroup",t.profileForm),u(5),Y(t.controlHasError("name","required")?15:-1),u(5),Y(t.controlHasError("email","required")?20:-1),u(),Y(t.controlHasError("email","email")?21:-1),u(5),b("disabled",t.profileForm.invalid))},dependencies:[xt,St,Pt,Rt,Dt,kt,On,Mt,Nt,ge,en,he,fe,Zi,rn,Ct,tn],styles:[".update-profile-container[_ngcontent-%COMP%]{background-color:#e5e8d8;min-height:80vh;padding-top:10px;padding-bottom:10px;display:flex;justify-content:center;border-top:2px solid #ffffff;border-bottom:3px solid #ffffff}.update-profile-card[_ngcontent-%COMP%]{display:flex;background-color:#f8f9f4;padding:20px;border-radius:8px;box-shadow:0 4px 8px #0000001a;max-width:900px;width:100%}.profile-image-container[_ngcontent-%COMP%]{display:flex}.image-wrapper[_ngcontent-%COMP%]{position:relative;width:150px;height:150px}.profile-image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;border:4px solid #f8f9f4}.camera-icon[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;background-color:#000;color:#fff;border-radius:50%;padding:5px;font-size:18px}.update-profile-form[_ngcontent-%COMP%]{flex:20}.update-profile-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.submit-button[_ngcontent-%COMP%]{background-color:#087443!important;color:#fff!important;padding:10px 20px;font-size:16px;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease;width:100%;text-align:center}.submit-button[_ngcontent-%COMP%]:hover{background-color:#065c32!important}"]})};var tt=class n{baseURL=`${Q.baseURL}/playlist`;http=h(W);constructor(){}getAllPlaylists(){return this.http.get(`${this.baseURL}/my-playlists`)}getPlaylistById(r){return this.http.get(`${this.baseURL}/${r}`)}createPlaylist(r){return this.http.post(this.baseURL,r)}updatePlaylist(r,e){return this.http.put(`${this.baseURL}/${r}`,e)}deletePlaylist(r){return this.http.delete(`${this.baseURL}/${r}`)}getPublicationsByPlaylistId(r){return this.http.get(`${this.baseURL}/${r}/publications`)}addPublicationToPlaylist(r,e){return this.http.post(`${this.baseURL}/add/publication?playlistId=${r}&publicationId=${e}`,{})}removePublicationFromPlaylist(r,e){return this.http.delete(`${this.baseURL}/${r}/publications/${e}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function jo(n,r){if(n&1){let e=D();s(0,"div",6)(1,"button",7),v("click",function(){let i=g(e).$implicit,o=p(2);return _(o.goToPublications(i.id))}),s(2,"span",8),c(3,"library_music"),l()(),s(4,"p"),c(5),l(),s(6,"button",9),v("click",function(){let i=g(e).$implicit,o=p(2);return _(o.editPlaylist(i.id))}),s(7,"span",8),c(8,"edit"),l()(),s(9,"button",10),v("click",function(){let i=g(e).$implicit,o=p(2);return _(o.deletePlaylist(i.id))}),s(10,"span",8),c(11,"delete"),l()()()}if(n&2){let e=r.$implicit;u(5),I(e.name)}}function Vo(n,r){if(n&1&&(s(0,"div"),y(1,jo,12,1,"div",5),l()),n&2){let e=p();u(),b("ngForOf",e.playlists)}}function Uo(n,r){n&1&&(s(0,"p",11),c(1,"No hay playlists disponibles"),l())}var zn=class n{constructor(r,e,t){this.playlistService=r;this.router=e;this.snackBar=t}playlists=[];ngOnInit(){this.loadPlaylists()}loadPlaylists(){this.playlistService.getAllPlaylists().subscribe({next:r=>{this.playlists=r},error:r=>{console.error("Error al obtener las playlists:",r),this.showSnackBar("Error al cargar las playlists")}})}goToCreatePlaylist(){this.router.navigate(["reader/playlist/create"])}editPlaylist(r){this.router.navigate([`/reader/playlist/edit/${r}`])}deletePlaylist(r){confirm("\xBFEst\xE1s seguro de que quieres eliminar esta playlist?")&&this.playlistService.deletePlaylist(r).subscribe({next:()=>{this.playlists=this.playlists.filter(e=>e.id!==r),this.showSnackBar("Playlist eliminada exitosamente")},error:e=>{this.showSnackBar("No se pudo eliminar la playlist")}})}showSnackBar(r){this.snackBar.open(r,"Cerrar",{duration:3e3})}goToPublications(r){this.router.navigate(["reader/playlist",r,"publications"])}static \u0275fac=function(e){return new(e||n)(d(tt),d(pe),d(ie))};static \u0275cmp=w({type:n,selectors:[["app-playlist"]],standalone:!0,features:[S],decls:7,vars:2,consts:[["noPlaylists",""],[1,"playlist-container"],[4,"ngIf","ngIfElse"],[1,"create-playlist"],[1,"create-playlist-btn",3,"click"],["class","playlist-item",4,"ngFor","ngForOf"],[1,"playlist-item"],[1,"playlist-btn",3,"click"],[1,"material-icons"],[1,"edit-btn",3,"click"],[1,"delete-btn",3,"click"],[1,"no-playlists-message"]],template:function(e,t){if(e&1){let i=D();s(0,"div",1),y(1,Vo,2,1,"div",2)(2,Uo,2,0,"ng-template",null,0,_t),s(4,"div",3)(5,"button",4),v("click",function(){return g(i),_(t.goToCreatePlaylist())}),c(6," Crear Playlist "),l()()()}if(e&2){let i=Ye(3);u(),b("ngIf",t.playlists.length>0)("ngIfElse",i)}},dependencies:[me,Pe,ee],styles:[".playlist-container[_ngcontent-%COMP%]{padding:40px;background-color:#e5e8d8;border-radius:8px;box-shadow:0 4px 10px #0000001a;overflow:hidden;text-align:center;display:flex;flex-direction:column;align-items:center;box-sizing:border-box;position:relative;min-height:75vh}div.playlist-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;justify-items:center;width:100%;box-sizing:border-box;margin-bottom:60px}.playlist-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;background-color:#e5e8d8;border:1px solid #ddd;border-radius:10px;padding:15px;box-shadow:0 4px 6px #0000001a;transition:transform .2s ease-in-out;margin-bottom:20px;max-width:100%}.playlist-item[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 10px #0003}.playlist-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2em;color:#555;font-weight:600}.no-playlists-message[_ngcontent-%COMP%]{font-size:1.2em;color:#888;margin-top:20px;font-weight:500}@media (max-width: 768px){div.playlist-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 480px){div.playlist-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{grid-template-columns:1fr}}button.edit-btn[_ngcontent-%COMP%]{background:none;border:none;color:#087443;cursor:pointer}button.edit-btn[_ngcontent-%COMP%]:hover{color:#45a049}button.delete-btn[_ngcontent-%COMP%]{background:none;border:none;color:#f44336;cursor:pointer}button.delete-btn[_ngcontent-%COMP%]:hover{color:#d32f2f}button.playlist-btn[_ngcontent-%COMP%]{background:none;border:none;color:#323f59;cursor:pointer}button.playlist-btn[_ngcontent-%COMP%]:hover{color:#23478e}.create-playlist-btn[_ngcontent-%COMP%]{background-color:#087443;color:#fff;padding:12px 25px;font-size:16px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease,transform .3s ease;position:absolute;right:20px;bottom:20px}.create-playlist-btn[_ngcontent-%COMP%]:hover{background-color:#45a049;transform:scale(1.05)}.create-playlist-btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.create-playlist-btn[_ngcontent-%COMP%]:focus{outline:none}"]})};var Ht=class n{baseURL=`${Q.baseURL}/user/search`;http=h(W);searchUsers(r){return this.http.get(`${this.baseURL}/${r.search}`)}getCreatorId(r){return this.http.get(`${this.baseURL}/creator-id`,{params:{userId:r.toString()}})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ho=n=>["/reader/profile",n];function zo(n,r){if(n&1&&(s(0,"div",6)(1,"a",7),c(2),l(),s(3,"span",8),c(4),l()()),n&2){let e=r.$implicit;u(),b("routerLink",$i(3,Ho,e.id)),u(),I(e.name),u(2),I(e.role)}}function $o(n,r){if(n&1&&(s(0,"div",4),y(1,zo,5,5,"div",5),l()),n&2){let e=p();u(),b("ngForOf",e.results)}}var $n=class n{constructor(r,e){this.userSearchService=r;this.router=e}search="";results=[];onSearch(){if(this.search.trim()){let r={search:this.search};this.userSearchService.searchUsers(r).subscribe(e=>{this.results=e},e=>{console.log(e),this.results=[]})}else this.results=[]}viewUserProfile(r){this.router.navigate(["/user/profile",r])}static \u0275fac=function(e){return new(e||n)(d(Ht),d(pe))};static \u0275cmp=w({type:n,selectors:[["app-searcher"]],standalone:!0,features:[S],decls:7,vars:2,consts:[[1,"search-container"],[1,"search-box"],["type","text","placeholder","Buscar usuario...",3,"ngModelChange","input","ngModel"],["class","results-container",4,"ngIf"],[1,"results-container"],["class","result-item",4,"ngFor","ngForOf"],[1,"result-item"],[3,"routerLink"],[1,"role"]],template:function(e,t){e&1&&(s(0,"body")(1,"div",0)(2,"h2"),c(3,"Buscar"),l(),s(4,"div",1)(5,"input",2),Ie("ngModelChange",function(o){return De(t.search,o)||(t.search=o),o}),v("input",function(){return t.onSearch()}),l()(),y(6,$o,2,1,"div",3),l()()),e&2&&(u(5),ke("ngModel",t.search),u(),b("ngIf",t.results.length>0))},dependencies:[ge,he,fe,Oe,ee,Pe,Gi],styles:["body[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,sans-serif;background-color:#e3e6d3;display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0}.search-container[_ngcontent-%COMP%]{text-align:center;width:400px;margin-top:-500px}.search-box[_ngcontent-%COMP%]{position:relative;margin:0 auto 20px;width:100%}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px;font-size:16px;border:1px solid #ccc;border-radius:8px;box-shadow:2px 2px 10px #0000001a}.results-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:2px 2px 10px #0000001a}.result-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid #eee}.result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.name[_ngcontent-%COMP%]{font-weight:700;color:#333}.role[_ngcontent-%COMP%]{color:#777}"]})};var Qo=["*"],zt;function qo(){if(zt===void 0&&(zt=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(zt=n.trustedTypes.createPolicy("angular#components",{createHTML:r=>r}))}return zt}function ct(n){return qo()?.createHTML(n)||n}function Wn(n){return Error(`Unable to find icon with the name "${n}"`)}function Yo(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Qn(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function qn(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var we=class{constructor(r,e,t){this.url=r,this.svgText=e,this.options=t}},Ko=(()=>{class n{constructor(e,t,i,o){this._httpClient=e,this._sanitizer=t,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,t,i){return this.addSvgIconInNamespace("",e,t,i)}addSvgIconLiteral(e,t,i){return this.addSvgIconLiteralInNamespace("",e,t,i)}addSvgIconInNamespace(e,t,i,o){return this._addSvgIconConfig(e,t,new we(i,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,i,o){let a=this._sanitizer.sanitize(qe.HTML,i);if(!a)throw qn(i);let m=ct(a);return this._addSvgIconConfig(e,t,new we("",m,o))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,i){return this._addSvgIconSetConfig(e,new we(t,null,i))}addSvgIconSetLiteralInNamespace(e,t,i){let o=this._sanitizer.sanitize(qe.HTML,t);if(!o)throw qn(t);let a=ct(o);return this._addSvgIconSetConfig(e,new we("",a,i))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let t=this._sanitizer.sanitize(qe.RESOURCE_URL,e);if(!t)throw Qn(e);let i=this._cachedIconsByUrl.get(t);return i?Z($t(i)):this._loadSvgIconFromConfig(new we(e,null)).pipe(mt(o=>this._cachedIconsByUrl.set(t,o)),be(o=>$t(o)))}getNamedSvgIcon(e,t=""){let i=Yn(t,e),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(t,e),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let a=this._iconSetConfigs.get(t);return a?this._getSvgFromIconSetConfigs(e,a):Ei(Wn(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Z($t(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(be(t=>$t(t)))}_getSvgFromIconSetConfigs(e,t){let i=this._extractIconWithNameFromAnySet(e,t);if(i)return Z(i);let o=t.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Ni(m=>{let R=`Loading icon set URL: ${this._sanitizer.sanitize(qe.RESOURCE_URL,a.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(R)),Z(null)})));return Ai(o).pipe(be(()=>{let a=this._extractIconWithNameFromAnySet(e,t);if(!a)throw Wn(e);return a}))}_extractIconWithNameFromAnySet(e,t){for(let i=t.length-1;i>=0;i--){let o=t[i];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(o),m=this._extractSvgIconFromSet(a,e,o.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(mt(t=>e.svgText=t),be(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Z(null):this._fetchIcon(e).pipe(mt(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,i){let o=e.querySelector(`[id="${t}"]`);if(!o)return null;let a=o.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,i);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),i);let m=this._svgElementFromString(ct("<svg></svg>"));return m.appendChild(a),this._setSvgAttributes(m,i)}_svgElementFromString(e){let t=this._document.createElement("DIV");t.innerHTML=e;let i=t.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let t=this._svgElementFromString(ct("<svg></svg>")),i=e.attributes;for(let o=0;o<i.length;o++){let{name:a,value:m}=i[o];a!=="id"&&t.setAttribute(a,m)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[o].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){let{url:t,options:i}=e,o=i?.withCredentials??!1;if(!this._httpClient)throw Yo();if(t==null)throw Error(`Cannot fetch icon from URL "${t}".`);let a=this._sanitizer.sanitize(qe.RESOURCE_URL,t);if(!a)throw Qn(t);let m=this._inProgressUrlFetches.get(a);if(m)return m;let f=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(be(R=>ct(R)),ji(()=>this._inProgressUrlFetches.delete(a)),Vi());return this._inProgressUrlFetches.set(a,f),f}_addSvgIconConfig(e,t,i){return this._svgIconConfigs.set(Yn(e,t),i),this}_addSvgIconSetConfig(e,t){let i=this._iconSetConfigs.get(e);return i?i.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){let t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](t,e);if(o)return Go(o)?new we(o.url,null,o.options):new we(o,null)}}static{this.\u0275fac=function(t){return new(t||n)(ye(W,8),ye(qi),ye(je,8),ye(ht))}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $t(n){return n.cloneNode(!0)}function Yn(n,r){return n+":"+r}function Go(n){return!!(n.url&&n.options)}var Xo=new B("MAT_ICON_DEFAULT_OPTIONS"),Zo=new B("mat-icon-location",{providedIn:"root",factory:Jo});function Jo(){let n=h(je),r=n?n.location:null;return{getPathname:()=>r?r.pathname+r.search:""}}var Kn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],er=Kn.map(n=>`[${n}]`).join(", "),tr=/^url\(['"]?#(.*?)['"]?\)$/,Gn=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){let t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){let t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}constructor(e,t,i,o,a,m){this._elementRef=e,this._iconRegistry=t,this._location=o,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ze.EMPTY,m&&(m.color&&(this.color=this._defaultColor=m.color),m.fontSet&&(this.fontSet=m.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){let i=e.childNodes[t];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),t.forEach(i=>e.classList.add(i)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let t=this._elementsWithExternalReferences;t&&t.forEach((i,o)=>{i.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let t=e.querySelectorAll(er),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<t.length;o++)Kn.forEach(a=>{let m=t[o],f=m.getAttribute(a),R=f?f.match(tr):null;if(R){let C=i.get(m);C||(C=[],i.set(m,C)),C.push({name:a,value:R[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[t,i]=this._splitIconName(e);t&&(this._svgNamespace=t),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,t).pipe(Ae(1)).subscribe(o=>this._setSvgElement(o),o=>{let a=`Error retrieving icon ${t}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(a))})}}static{this.\u0275fac=function(t){return new(t||n)(d(z),d(Ko),Qe("aria-hidden"),d(Zo),d(ht),d(Xo,8))}}static{this.\u0275cmp=w({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,i){t&2&&(re("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),gt(i.color?"mat-"+i.color:""),ue("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",P],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[K,S],ngContentSelectors:Qo,decls:1,vars:0,template:function(t,i){t&1&&(ae(),j(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return n})(),Xn=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ce({type:n})}static{this.\u0275inj=le({imports:[te,te]})}}return n})();var Wt=class n{constructor(r){this.http=r}baseURL=`${Q.baseURL}/publications`;getRecentPublications(){return this.http.get(`${this.baseURL}/recent`)}static \u0275fac=function(e){return new(e||n)(ye(W))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qt=class n{transform(r){return`${Q.baseURL}/media/${r}`}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=Ui({name:"apiImg",type:n,pure:!0,standalone:!0})};var ar=["trigger"],sr=["panel"],lr=[[["mat-select-trigger"]],"*"],cr=["mat-select-trigger","*"];function dr(n,r){if(n&1&&(s(0,"span",4),c(1),l()),n&2){let e=p();u(),I(e.placeholder)}}function ur(n,r){n&1&&j(0)}function mr(n,r){if(n&1&&(s(0,"span",11),c(1),l()),n&2){let e=p(2);u(),I(e.triggerValue)}}function pr(n,r){if(n&1&&(s(0,"span",5),y(1,ur,1,0)(2,mr,2,1,"span",11),l()),n&2){let e=p();u(),Y(e.customTrigger?1:2)}}function hr(n,r){if(n&1){let e=D();s(0,"div",12,1),v("@transformPanel.done",function(i){g(e);let o=p();return _(o._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){g(e);let o=p();return _(o._handleKeydown(i))}),j(2,1),l()}if(n&2){let e=p();zi("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),b("ngClass",e.panelClass)("@transformPanel","showing"),re("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var fr={transformPanelWrap:Je("transformPanelWrap",[Ee("* => void",Pn("@transformPanel",[Rn()],{optional:!0}))]),transformPanel:Je("transformPanel",[at("void",_e({opacity:0,transform:"scale(1, 0.8)"})),Ee("void => showing",Ve("120ms cubic-bezier(0, 0, 0.2, 1)",_e({opacity:1,transform:"scale(1, 1)"}))),Ee("* => void",Ve("100ms linear",_e({opacity:0})))])};var Zn=0,eo=new B("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=h(Te);return()=>n.scrollStrategies.reposition()}});function gr(n){return()=>n.scrollStrategies.reposition()}var _r=new B("MAT_SELECT_CONFIG"),vr={provide:eo,deps:[Te],useFactory:gr},br=new B("MatSelectTrigger"),_i=class{constructor(r,e){this.source=r,this.value=e}},yl=(()=>{class n{_scrollOptionIntoView(e){let t=this.options.toArray()[e];if(t){let i=this.panel.nativeElement,o=Cn(e,this.options,this.optionGroups),a=t._getHostElement();e===0&&o===1?i.scrollTop=0:i.scrollTop=wn(a.offsetTop,a.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new _i(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Xe.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,t,i,o,a,m,f,R,C,T,A,X,li,ve){this._viewportRuler=e,this._changeDetectorRef=t,this._elementRef=a,this._dir=m,this._parentFormField=C,this.ngControl=T,this._liveAnnouncer=li,this._defaultOptions=ve,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(M,He)=>M===He,this._uid=`mat-select-${Zn++}`,this._triggerAriaLabelledBy=null,this._destroy=new ne,this.stateChanges=new ne,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${Zn++}`,this._panelDoneAnimatingStream=new ne,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new ne,this.optionSelectionChanges=Fi(()=>{let M=this.options;return M?M.changes.pipe(Ne(M),$e(()=>Se(...M.map(He=>He.onSelectionChange)))):this._initialized.pipe($e(()=>this.optionSelectionChanges))}),this.openedChange=new H,this._openedStream=this.openedChange.pipe(xe(M=>M),be(()=>{})),this._closedStream=this.openedChange.pipe(xe(M=>!M),be(()=>{})),this.selectionChange=new H,this.valueChange=new H,this._trackedModal=null,this._skipPredicate=M=>this.panelOpen?!1:M.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),ve?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=ve.typeaheadDebounceInterval),this._errorStateTracker=new hn(o,T,R,f,this.stateChanges),this._scrollStrategyFactory=X,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(A)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Ln(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Li(),q(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(q(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(q(this._destroy)).subscribe(e=>{e.added.forEach(t=>t.select()),e.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Ne(null),q(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),t=this.ngControl;if(e!==this._triggerAriaLabelledBy){let i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}t&&(this._previousControl!==t.control&&(this._previousControl!==void 0&&t.disabled!==null&&t.disabled!==this.disabled&&(this.disabled=t.disabled),this._previousControl=t.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=`${this.id}-panel`;this._trackedModal&&mi(this._trackedModal,"aria-owns",t),ln(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;mi(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let t=e.keyCode,i=t===40||t===38||t===37||t===39,o=t===13||t===32,a=this._keyManager;if(!a.isTyping()&&o&&!rt(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){let m=this.selected;a.onKeydown(e);let f=this.selected;f&&m!==f&&this._liveAnnouncer.announce(f.viewValue,1e4)}}_handleOpenKeydown(e){let t=this._keyManager,i=e.keyCode,o=i===40||i===38,a=t.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!a&&(i===13||i===32)&&t.activeItem&&!rt(e))e.preventDefault(),t.activeItem._selectViaInteraction();else if(!a&&this._multiple&&i===65&&e.ctrlKey){e.preventDefault();let m=this.options.some(f=>!f.disabled&&!f.selected);this.options.forEach(f=>{f.disabled||(m?f.select():f.deselect())})}else{let m=t.activeItemIndex;t.onKeydown(e),this._multiple&&o&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==m&&t.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ae(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(t=>this._selectOptionByValue(t)),this._sortValues();else{let t=this._selectOptionByValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let t=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return i.value!=null&&this._compareWith(i.value,e)}catch{return!1}});return t&&this._selectionModel.select(t),t}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof fi?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new cn(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=Se(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(q(e)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Se(...this.options.map(t=>t._stateChanges)).pipe(q(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,t){let i=this._selectionModel.isSelected(e);e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((t,i)=>this.sortComparator?this.sortComparator(t,i,e):e.indexOf(t)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let t;this.multiple?t=this.selected.map(i=>i.value):t=this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let t=0;t<this.options.length;t++)if(!this.options.get(t).disabled){e=t;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),t=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(t){return new(t||n)(d(Tt),d(Ce),d(de),d(fn),d(z),d(Ze,8),d(Ji,8),d(Ct,8),d(Fn,8),d(Xi,10),Qe("tabindex"),d(eo),d(pn),d(_r,8))}}static{this.\u0275cmp=w({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,o){if(t&1&&(V(o,br,5),V(o,yn,5),V(o,bn,5)),t&2){let a;O(a=E())&&(i.customTrigger=a.first),O(a=E())&&(i.options=a),O(a=E())&&(i.optionGroups=a)}},viewQuery:function(t,i){if(t&1&&(Le(ar,5),Le(sr,5),Le(gi,5)),t&2){let o;O(o=E())&&(i.trigger=o.first),O(o=E())&&(i.panel=o.first),O(o=E())&&(i._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(t,i){t&1&&v("keydown",function(a){return i._handleKeydown(a)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),t&2&&(re("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),ue("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",P],disableRipple:[2,"disableRipple","disableRipple",P],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:ui(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",P],placeholder:"placeholder",required:[2,"required","required",P],multiple:[2,"multiple","multiple",P],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",P],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",ui],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[$([{provide:Tn,useExisting:n},{provide:vn,useExisting:n}]),K,We,S],ngContentSelectors:cr,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(t,i){if(t&1){let o=D();ae(lr),s(0,"div",2,0),v("click",function(){return g(o),_(i.open())}),s(3,"div",3),y(4,dr,2,1,"span",4)(5,pr,3,1,"span",5),l(),s(6,"div",6)(7,"div",7),pt(),s(8,"svg",8),k(9,"path",9),l()()()(),y(10,hr,3,9,"ng-template",10),v("backdropClick",function(){return g(o),_(i.close())})("attach",function(){return g(o),_(i._onAttached())})("detach",function(){return g(o),_(i.close())})}if(t&2){let o=Ye(1);u(3),re("id",i._valueId),u(),Y(i.empty?4:5),u(6),b("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[fi,gi,Qi],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-app-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-app-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-app-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-app-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-app-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-app-on-surface-variant))}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[fr.transformPanel]},changeDetection:0})}}return n})();var to=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ce({type:n})}static{this.\u0275inj=le({providers:[vr],imports:[me,At,hi,te,Ft,It,hi,te]})}}return n})();var Cr=["mat-menu-item",""],wr=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Sr=["mat-icon, [matMenuItemIcon]","*"];function xr(n,r){n&1&&(pt(),s(0,"svg",2),k(1,"polygon",3),l())}var Mr=["*"];function kr(n,r){if(n&1){let e=D();s(0,"div",0),v("keydown",function(i){g(e);let o=p();return _(o._handleKeydown(i))})("click",function(){g(e);let i=p();return _(i.closed.emit("click"))})("@transformMenu.start",function(i){g(e);let o=p();return _(o._onAnimationStart(i))})("@transformMenu.done",function(i){g(e);let o=p();return _(o._onAnimationDone(i))}),s(1,"div",1),j(2),l()()}if(n&2){let e=p();gt(e._classList),b("id",e.panelId)("@transformMenu",e._panelAnimationState),re("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}var vi=new B("MAT_MENU_PANEL"),dt=(()=>{class n{constructor(e,t,i,o,a){this._elementRef=e,this._document=t,this._focusMonitor=i,this._parentMenu=o,this._changeDetectorRef=a,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new ne,this._focused=new ne,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let e=this._elementRef.nativeElement.cloneNode(!0),t=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<t.length;i++)t[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static{this.\u0275fac=function(t){return new(t||n)(d(z),d(je),d(pi),d(vi,8),d(Ce))}}static{this.\u0275cmp=w({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(t,i){t&1&&v("click",function(a){return i._checkDisabled(a)})("mouseenter",function(){return i._handleMouseEnter()}),t&2&&(re("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),ue("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",P],disableRipple:[2,"disableRipple","disableRipple",P]},exportAs:["matMenuItem"],standalone:!0,features:[K,S],attrs:Cr,ngContentSelectors:Sr,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){t&1&&(ae(wr),j(0),s(1,"span",0),j(2,1),l(),k(3,"div",1),y(4,xr,2,0,":svg:svg",2)),t&2&&(u(3),b("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),u(),Y(i._triggersSubmenu?4:-1))},dependencies:[gn],encapsulation:2,changeDetection:0})}}return n})();var Dr=new B("MatMenuContent");var Jt={transformMenu:Je("transformMenu",[at("void",_e({opacity:0,transform:"scale(0.8)"})),Ee("void => enter",Ve("120ms cubic-bezier(0, 0, 0.2, 1)",_e({opacity:1,transform:"scale(1)"}))),Ee("* => void",Ve("100ms 25ms linear",_e({opacity:0})))]),fadeInItems:Je("fadeInItems",[at("showing",_e({opacity:1})),Ee("void => *",[_e({opacity:0}),Ve("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Xl=Jt.fadeInItems,Zl=Jt.transformMenu,Ir=0,Rr=new B("mat-menu-default-options",{providedIn:"root",factory:Pr});function Pr(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var it=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){let t=this._previousPanelClass,i=Fe({},this._classList);t&&t.length&&t.split(" ").forEach(o=>{i[o]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(o=>{i[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,t,i,o){this._elementRef=e,this._changeDetectorRef=o,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new Bi,this._classList={},this._panelAnimationState="void",this._animationDone=new ne,this.closed=new H,this.close=this.closed,this.panelId=`mat-menu-panel-${Ir++}`,this._injector=h(ot),this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this.overlapTrigger=i.overlapTrigger,this.hasBackdrop=i.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new dn(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ne(this._directDescendantItems),$e(e=>Se(...e.map(t=>t._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{let t=this._keyManager;if(this._panelAnimationState==="enter"&&t.activeItem?._hasFocus()){let i=e.toArray(),o=Math.max(0,Math.min(i.length-1,t.activeItemIndex||0));i[o]&&!i[o].disabled?t.setActiveItem(o):t.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(Ne(this._directDescendantItems),$e(t=>Se(...t.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){let t=e.keyCode,i=this._keyManager;switch(t){case 27:rt(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(t===38||t===40)&&i.setFocusOrigin("keyboard"),i.onKeydown(e);return}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=ft(()=>{let t=null;if(this._directDescendantItems.length&&(t=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!t||!t.contains(document.activeElement)){let i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&t&&t.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(this._baseElevation===null){let m=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(m)}let t=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${t}`,o=Object.keys(this._classList).find(a=>a.startsWith(this._elevationPrefix));if(!o||o===this._previousElevation){let a=Fe({},this._classList);this._previousElevation&&(a[this._previousElevation]=!1),a[i]=!0,this._previousElevation=i,this._classList=a}}setPositionClasses(e=this.xPosition,t=this.yPosition){this._classList=Pi(Fe({},this._classList),{"mat-menu-before":e==="before","mat-menu-after":e==="after","mat-menu-above":t==="above","mat-menu-below":t==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,e.toState==="enter"&&this._keyManager.activeItemIndex===0&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Ne(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static{this.\u0275fac=function(t){return new(t||n)(d(z),d(de),d(Rr),d(Ce))}}static{this.\u0275cmp=w({type:n,selectors:[["mat-menu"]],contentQueries:function(t,i,o){if(t&1&&(V(o,Dr,5),V(o,dt,5),V(o,dt,4)),t&2){let a;O(a=E())&&(i.lazyContent=a.first),O(a=E())&&(i._allItems=a),O(a=E())&&(i.items=a)}},viewQuery:function(t,i){if(t&1&&Le(J,5),t&2){let o;O(o=E())&&(i.templateRef=o.first)}},hostVars:3,hostBindings:function(t,i){t&2&&re("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",P],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>e==null?null:P(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[$([{provide:vi,useExisting:n}]),K,S],ngContentSelectors:Mr,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(t,i){t&1&&(ae(),y(0,kr,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-app-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-app-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-app-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-app-surface-container));will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-app-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-app-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Jt.transformMenu,Jt.fadeInItems]},changeDetection:0})}}return n})(),no=new B("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=h(Te);return()=>n.scrollStrategies.reposition()}});function Or(n){return()=>n.scrollStrategies.reposition()}var Er={provide:no,deps:[Te],useFactory:Or},io=sn({passive:!0});var oo=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._parentMaterialMenu,this._menuCloseSubscription=e.close.subscribe(t=>{this._destroyMenu(t),(t==="click"||t==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(t)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,t,i,o,a,m,f,R,C){this._overlay=e,this._element=t,this._viewContainerRef=i,this._menuItemInstance=m,this._dir=f,this._focusMonitor=R,this._ngZone=C,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ze.EMPTY,this._hoverSubscription=ze.EMPTY,this._menuCloseSubscription=ze.EMPTY,this._changeDetectorRef=h(Ce),this._handleTouchStart=T=>{mn(T)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new H,this.onMenuOpen=this.menuOpened,this.menuClosed=new H,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=a instanceof it?a:void 0,t.nativeElement.addEventListener("touchstart",this._handleTouchStart,io)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,io),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let e=this.menu;if(this._menuOpen||!e)return;let t=this._createOverlay(e),i=t.getConfig(),o=i.positionStrategy;this._setPosition(e,o),i.hasBackdrop=e.hasBackdrop==null?!this.triggersSubmenu():e.hasBackdrop,t.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof it&&(e._startAnimation(),e._directDescendantItems.changes.pipe(q(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;let t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(e==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,t instanceof it?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(xe(i=>i.toState==="void"),Ae(1),q(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let t=0,i=e.parentMenu;for(;i;)t++,i=i.parentMenu;e.setElevation(t)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){let t=this._getOverlayConfig(e);this._subscribeToPositions(e,t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Vn({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,t){e.setPositionClasses&&t.positionChanges.subscribe(i=>{let o=i.connectionPair.overlayX==="start"?"after":"before",a=i.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,a)):e.setPositionClasses(o,a)})}_setPosition(e,t){let[i,o]=e.xPosition==="before"?["end","start"]:["start","end"],[a,m]=e.yPosition==="above"?["bottom","top"]:["top","bottom"],[f,R]=[a,m],[C,T]=[i,o],A=0;if(this.triggersSubmenu()){if(T=i=e.xPosition==="before"?"start":"end",o=C=i==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let X=this._parentMaterialMenu.items.first;this._parentInnerPadding=X?X._getHostElement().offsetTop:0}A=a==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(f=a==="top"?"bottom":"top",R=m==="top"?"bottom":"top");t.withPositions([{originX:i,originY:f,overlayX:C,overlayY:a,offsetY:A},{originX:o,originY:f,overlayX:T,overlayY:a,offsetY:A},{originX:i,originY:R,overlayX:C,overlayY:m,offsetY:-A},{originX:o,originY:R,overlayX:T,overlayY:m,offsetY:-A}])}_menuClosingActions(){let e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:Z(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(xe(a=>a!==this._menuItemInstance),xe(()=>this._menuOpen)):Z();return Se(e,i,o,t)}_handleMousedown(e){un(e)||(this._openedBy=e.button===0?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(t===39&&this.dir==="ltr"||t===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(xe(e=>e===this._menuItemInstance&&!e.disabled),di(0,ci)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof it&&this.menu._isAnimating?this.menu._animationDone.pipe(Ae(1),di(0,ci),q(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new An(e.templateRef,this._viewContainerRef)),this._portal}static{this.\u0275fac=function(t){return new(t||n)(d(Te),d(z),d(Me),d(no),d(vi,8),d(dt,10),d(Ze,8),d(pi),d(de))}}static{this.\u0275dir=x({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(t,i){t&1&&v("click",function(a){return i._handleClick(a)})("mousedown",function(a){return i._handleMousedown(a)})("keydown",function(a){return i._handleKeydown(a)}),t&2&&re("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}}return n})(),ro=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ce({type:n})}static{this.\u0275inj=le({providers:[Er],imports:[me,_n,te,At,Ft,te]})}}return n})();function Fr(n,r){if(n&1){let e=D();s(0,"button",15),v("click",function(){let i=g(e).$implicit,o=p().$implicit,a=p();return _(a.addPublicationToPlaylist(o.id,i.id))}),c(1),l()}if(n&2){let e=r.$implicit;u(),U(" ",e.name," ")}}function Ar(n,r){if(n&1&&(s(0,"div")(1,"mat-card",9)(2,"mat-card-header")(3,"mat-card-title"),c(4),l(),s(5,"mat-card-subtitle"),c(6),l()(),s(7,"mat-card-content")(8,"p"),c(9),l(),s(10,"p"),c(11),l()(),k(12,"img",10),Re(13,"apiImg"),s(14,"button",11)(15,"span",12),c(16,"playlist_add"),l()(),s(17,"mat-menu",13,1),y(19,Fr,2,1,"button",14),l()()()),n&2){let e=r.$implicit,t=Ye(18),i=p();u(4),I(e.title),u(2),I(e.creatorname),u(3),I(e.content),u(2),I(e.video_url),u(),b("src",Wi(13,8,e.filePath),Hi)("alt",e.title),u(2),b("matMenuTriggerFor",t),u(5),b("ngForOf",i.playlists)}}function Nr(n,r){n&1&&(s(0,"p"),c(1,"No se encontraron Publicaciones"),l())}var ao=class n{recentPublications=[];filteredPublications=[];searchQuery="";playlists=[];selectedPlaylistId;snackBar=h(ie);publicationService=h(Wt);playlistService=h(tt);ngOnInit(){this.publicationService.getRecentPublications().subscribe({next:r=>{this.recentPublications=r,this.filteredPublications=r},error:r=>console.error("Error al cargar las publicaciones recientes",r)}),this.playlistService.getAllPlaylists().subscribe({next:r=>{this.playlists=r},error:r=>{console.error("Error al cargar las playlists",r)}})}onSearch(){let r=this.searchQuery.toLowerCase();this.filteredPublications=this.recentPublications.filter(e=>e.title.toLowerCase().includes(r)||e.creatorname.toLowerCase().includes(r))}addPublicationToPlaylist(r,e){e?this.playlistService.addPublicationToPlaylist(e,r).subscribe(t=>{console.log("Publicaci\xF3n agregada a la playlist",t),this.snackBar.open("Publicaci\xF3n agregada a la playlist","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"})},t=>{console.error("Error al agregar la publicaci\xF3n a la playlist",t),this.snackBar.open("Error al agregar la publicaci\xF3n","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"})}):(console.error("Por favor selecciona una playlist"),this.snackBar.open("Por favor selecciona una playlist","Cerrar",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["app-home"]],standalone:!0,features:[S],decls:13,vars:2,consts:[["noPublications",""],["menu","matMenu"],[1,"content-wrapper"],[1,"search-container"],["appearance","outline",1,"search-bar"],["matInput","","placeholder","Busca por t\xEDtulo o creador",3,"ngModelChange","ngModel"],["mat-icon-button","","matSuffix","",1,"search-button"],[1,"publication-list"],[4,"ngFor","ngForOf"],[1,"publication-card"],[1,"mat-card-image",3,"src","alt"],["mat-button","",1,"add-to-playlist-btn",3,"matMenuTriggerFor"],[1,"material-icons"],["xPosition","before"],["class","menu-btn","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"menu-btn",3,"click"]],template:function(e,t){if(e&1){let i=D();s(0,"div",2)(1,"div",3)(2,"mat-form-field",4)(3,"mat-label"),c(4,"Buscar Publicaciones"),l(),s(5,"input",5),Ie("ngModelChange",function(a){return g(i),De(t.searchQuery,a)||(t.searchQuery=a),_(a)}),v("ngModelChange",function(){return g(i),_(t.onSearch())}),l(),s(6,"button",6)(7,"mat-icon"),c(8,"search"),l()()()(),s(9,"div",7),y(10,Ar,20,10,"div",8)(11,Nr,2,0,"ng-template",null,0,_t),l()()}e&2&&(u(5),ke("ngModel",t.searchQuery),u(5),b("ngForOf",t.filteredPublications))},dependencies:[Mt,xn,kn,In,Dn,Mn,It,Dt,kt,En,Pt,Rt,Xn,Gn,ge,he,fe,Oe,Qt,me,Pe,to,Nt,xt,St,Sn,ro,it,dt,oo],styles:[".content-wrapper[_ngcontent-%COMP%]{max-width:800px;margin:auto;padding:20px;display:flex;flex-direction:column;gap:20px}.search-bar[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{background-color:transparent;border:none}.search-bar[_ngcontent-%COMP%]{width:100%;max-width:800px}.publication-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.publication-card[_ngcontent-%COMP%]{width:100%;background-color:#fff;border-radius:10px;box-shadow:0 4px 8px #0003;transition:transform .3s ease}.publication-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#333}mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:.9em;color:#666}mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;line-height:1.5;color:#444}.mat-card-image[_ngcontent-%COMP%]{max-height:400px;max-width:300%;display:block;margin:10px;object-fit:cover;border-radius:10px}button.add-to-playlist-btn[_ngcontent-%COMP%]{background:none;border:none;color:#087443;cursor:pointer;display:flex;justify-content:flex-end;padding:8px 12px}button.add-to-playlist-btn[_ngcontent-%COMP%]:hover{color:#45a049}button.menu-btn[_ngcontent-%COMP%]{background:#e5e8d8;border:#e5e8d8;color:#087443}button.menu-btn[_ngcontent-%COMP%]:hover{color:#23478e;background:#e5e8d8;border-radius:4px;border:transparent}"]})};var so=class n{baseURL=`${Q.baseURL}/user/donation`;http=h(W);createDonation(r){return this.http.post(this.baseURL,r)}getDonorsAmount(r){return this.http.get(`${this.baseURL}/total/${r}`)}getDonationAmount(r){return this.http.get(`${this.baseURL}/donors/${r}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var Br=[[["caption"]],[["colgroup"],["col"]],"*"],Hr=["caption","colgroup, col","*"];function zr(n,r){n&1&&j(0,2)}function $r(n,r){n&1&&(s(0,"thead",0),G(1,1),l(),s(2,"tbody",0),G(3,2)(4,3),l(),s(5,"tfoot",0),G(6,4),l())}function Wr(n,r){n&1&&G(0,1)(1,2)(2,3)(3,4)}var se=new B("CDK_TABLE");var ri=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||n)(d(J))}}static{this.\u0275dir=x({type:n,selectors:[["","cdkCellDef",""]],standalone:!0})}}return n})(),ai=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||n)(d(J))}}static{this.\u0275dir=x({type:n,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return n})(),uo=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||n)(d(J))}}static{this.\u0275dir=x({type:n,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return n})(),nt=(()=>{class n{get name(){return this._name}set name(e){this._setNameInput(e)}get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}constructor(e){this._table=e,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(t){return new(t||n)(d(se,8))}}static{this.\u0275dir=x({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,o){if(t&1&&(V(o,ri,5),V(o,ai,5),V(o,uo,5)),t&2){let a;O(a=E())&&(i.cell=a.first),O(a=E())&&(i.headerCell=a.first),O(a=E())&&(i.footerCell=a.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",P],stickyEnd:[2,"stickyEnd","stickyEnd",P]},standalone:!0,features:[$([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),K]})}}return n})(),ti=class{constructor(r,e){e.nativeElement.classList.add(...r._columnCssClassName)}},mo=(()=>{class n extends ti{constructor(e,t){super(e,t)}static{this.\u0275fac=function(t){return new(t||n)(d(nt),d(z))}}static{this.\u0275dir=x({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[L]})}}return n})();var po=(()=>{class n extends ti{constructor(e,t){super(e,t);let i=e._table?._getCellRole();i&&t.nativeElement.setAttribute("role",i)}static{this.\u0275fac=function(t){return new(t||n)(d(nt),d(z))}}static{this.\u0275dir=x({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[L]})}}return n})(),ii=class{constructor(){this.tasks=[],this.endTasks=[]}},ni=new B("_COALESCED_STYLE_SCHEDULER"),yi=(()=>{class n{constructor(e){this._currentSchedule=null,this._ngZone=h(de)}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new ii,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new ii;for(let t of e.tasks)t();for(let t of e.endTasks)t()}this._currentSchedule=null})))}static{this.\u0275fac=function(t){return new(t||n)(ye(de))}}static{this.\u0275prov=N({token:n,factory:n.\u0275fac})}}return n})();var Ci=(()=>{class n{constructor(e,t){this.template=e,this._differs=t}ngOnChanges(e){if(!this._columnsDiffer){let t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof ut?e.headerCell.template:this instanceof wi?e.footerCell.template:e.cell.template}static{this.\u0275fac=function(t){return new(t||n)(d(J),d(Ge))}}static{this.\u0275dir=x({type:n,features:[We]})}}return n})(),ut=(()=>{class n extends Ci{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,t,i){super(e,t),this._table=i,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(t){return new(t||n)(d(J),d(Ge),d(se,8))}}static{this.\u0275dir=x({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",P]},standalone:!0,features:[K,L,We]})}}return n})(),wi=(()=>{class n extends Ci{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,t,i){super(e,t),this._table=i,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(t){return new(t||n)(d(J),d(Ge),d(se,8))}}static{this.\u0275dir=x({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",P]},standalone:!0,features:[K,L,We]})}}return n})(),si=(()=>{class n extends Ci{constructor(e,t,i){super(e,t),this._table=i}static{this.\u0275fac=function(t){return new(t||n)(d(J),d(Ge),d(se,8))}}static{this.\u0275dir=x({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[L]})}}return n})(),Be=(()=>{class n{static{this.mostRecentCellOutlet=null}constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static{this.\u0275fac=function(t){return new(t||n)(d(Me))}}static{this.\u0275dir=x({type:n,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return n})(),Si=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[S],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){t&1&&G(0,0)},dependencies:[Be],encapsulation:2})}}return n})();var xi=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=w({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[S],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){t&1&&G(0,0)},dependencies:[Be],encapsulation:2})}}return n})(),ho=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(t){return new(t||n)(d(J))}}static{this.\u0275dir=x({type:n,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return n})(),lo=["top","bottom","left","right"],bi=class{constructor(r,e,t,i,o=!0,a=!0,m){this._isNativeHtmlTable=r,this._stickCellCss=e,this.direction=t,this._coalescedStyleScheduler=i,this._isBrowser=o,this._needsPositionStickyOnElement=a,this._positionListener=m,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(r,e){let t=[];for(let i of r)if(i.nodeType===i.ELEMENT_NODE){t.push(i);for(let o=0;o<i.children.length;o++)t.push(i.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(let i of t)this._removeStickyStyle(i,e)})}updateStickyColumns(r,e,t,i=!0){if(!r.length||!this._isBrowser||!(e.some(o=>o)||t.some(o=>o))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let o=r[0],a=o.children.length,m=this._getCellWidths(o,i),f=this._getStickyStartColumnPositions(m,e),R=this._getStickyEndColumnPositions(m,t),C=e.lastIndexOf(!0),T=t.indexOf(!0),A=this.direction==="rtl",X=A?"right":"left",li=A?"left":"right";for(let ve of r)for(let M=0;M<a;M++){let He=ve.children[M];e[M]&&this._addStickyStyle(He,X,f[M],M===C),t[M]&&this._addStickyStyle(He,li,R[M],M===T)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:C===-1?[]:m.slice(0,C+1).map((ve,M)=>e[M]?ve:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:T===-1?[]:m.slice(T).map((ve,M)=>t[M+T]?ve:null).reverse()}))})}stickRows(r,e,t){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let i=t==="bottom"?r.slice().reverse():r,o=t==="bottom"?e.slice().reverse():e,a=[],m=[],f=[];for(let C=0,T=0;C<i.length;C++){if(!o[C])continue;a[C]=T;let A=i[C];f[C]=this._isNativeHtmlTable?Array.from(A.children):[A];let X=A.getBoundingClientRect().height;T+=X,m[C]=X}let R=o.lastIndexOf(!0);for(let C=0;C<i.length;C++){if(!o[C])continue;let T=a[C],A=C===R;for(let X of f[C])this._addStickyStyle(X,t,T,A)}t==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:m,offsets:a,elements:f}):this._positionListener?.stickyFooterRowsUpdated({sizes:m,offsets:a,elements:f})})}updateStickyFooterContainer(r,e){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let t=r.querySelector("tfoot");t&&(e.some(i=>!i)?this._removeStickyStyle(t,["bottom"]):this._addStickyStyle(t,"bottom",0,!1))})}_removeStickyStyle(r,e){for(let i of e)r.style[i]="",r.classList.remove(this._borderCellCss[i]);lo.some(i=>e.indexOf(i)===-1&&r.style[i])?r.style.zIndex=this._getCalculatedZIndex(r):(r.style.zIndex="",this._needsPositionStickyOnElement&&(r.style.position=""),r.classList.remove(this._stickCellCss))}_addStickyStyle(r,e,t,i){r.classList.add(this._stickCellCss),i&&r.classList.add(this._borderCellCss[e]),r.style[e]=`${t}px`,r.style.zIndex=this._getCalculatedZIndex(r),this._needsPositionStickyOnElement&&(r.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(r){let e={top:100,bottom:10,left:1,right:1},t=0;for(let i of lo)r.style[i]&&(t+=e[i]);return t?`${t}`:""}_getCellWidths(r,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let t=[],i=r.children;for(let o=0;o<i.length;o++){let a=i[o];t.push(a.getBoundingClientRect().width)}return this._cachedCellWidths=t,t}_getStickyStartColumnPositions(r,e){let t=[],i=0;for(let o=0;o<r.length;o++)e[o]&&(t[o]=i,i+=r[o]);return t}_getStickyEndColumnPositions(r,e){let t=[],i=0;for(let o=r.length;o>0;o--)e[o]&&(t[o]=i,i+=r[o]);return t}};var oi=new B("CDK_SPL");var Mi=(()=>{class n{constructor(e,t){this.viewContainer=e,this.elementRef=t;let i=h(se);i._rowOutlet=this,i._outletAssigned()}static{this.\u0275fac=function(t){return new(t||n)(d(Me),d(z))}}static{this.\u0275dir=x({type:n,selectors:[["","rowOutlet",""]],standalone:!0})}}return n})(),ki=(()=>{class n{constructor(e,t){this.viewContainer=e,this.elementRef=t;let i=h(se);i._headerRowOutlet=this,i._outletAssigned()}static{this.\u0275fac=function(t){return new(t||n)(d(Me),d(z))}}static{this.\u0275dir=x({type:n,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return n})(),Di=(()=>{class n{constructor(e,t){this.viewContainer=e,this.elementRef=t;let i=h(se);i._footerRowOutlet=this,i._outletAssigned()}static{this.\u0275fac=function(t){return new(t||n)(d(Me),d(z))}}static{this.\u0275dir=x({type:n,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return n})(),Ii=(()=>{class n{constructor(e,t){this.viewContainer=e,this.elementRef=t;let i=h(se);i._noDataRowOutlet=this,i._outletAssigned()}static{this.\u0275fac=function(t){return new(t||n)(d(Me),d(z))}}static{this.\u0275dir=x({type:n,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return n})();var Ri=(()=>{class n{_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role"),t=e==="grid"||e==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&t==="cell"?null:t}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,t,i,o,a,m,f,R,C,T,A,X){this._differs=e,this._changeDetectorRef=t,this._elementRef=i,this._dir=a,this._platform=f,this._viewRepeater=R,this._coalescedStyleScheduler=C,this._viewportRuler=T,this._stickyPositioningListener=A,this._onDestroy=new ne,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new H,this.viewChange=new Oi({start:0,end:Number.MAX_VALUE}),this._injector=h(ot),o||i.nativeElement.setAttribute("role","table"),this._document=m,this._isServer=!f.isBrowser,this._isNativeHtmlTable=i.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,t)=>this.trackBy?this.trackBy(t.dataIndex,t.data):t),this._viewportRuler.change().pipe(q(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Ot(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let t=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,t,(i,o,a)=>this._getEmbeddedViewArgs(i.item,a),i=>i.item.data,i=>{i.operation===Nn.INSERTED&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(i=>{let o=t.get(i.currentIndex);o.context.$implicit=i.item.data}),this._updateNoDataRow(),ft(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let i=co(this._headerRowOutlet,"thead");i&&(i.style.display=e.length?"":"none")}let t=this._headerRowDefs.map(i=>i.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,t,"top"),this._headerRowDefs.forEach(i=>i.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let i=co(this._footerRowOutlet,"tfoot");i&&(i.style.display=e.length?"":"none")}let t=this._footerRowDefs.map(i=>i.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,t,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,t),this._footerRowDefs.forEach(i=>i.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...t,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,a)=>{this._addStickyColumnStyles([o],this._headerRowDefs[a])}),this._rowDefs.forEach(o=>{let a=[];for(let m=0;m<t.length;m++)this._renderRows[m].rowDef===o&&a.push(t[m]);this._addStickyColumnStyles(a,o)}),i.forEach((o,a)=>{this._addStickyColumnStyles([o],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let o=this._data[i],a=this._getRenderRowsForData(o,i,t.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let m=0;m<a.length;m++){let f=a[m],R=this._cachedRenderRowsMap.get(f.data);R.has(f.rowDef)?R.get(f.rowDef).push(f):R.set(f.rowDef,[f]),e.push(f)}}return e}_getRenderRowsForData(e,t,i){return this._getRowDefs(e,t).map(a=>{let m=i&&i.has(a)?i.get(a):[];if(m.length){let f=m.shift();return f.dataIndex=t,f}else return{data:e,rowDef:a,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ei(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=ei(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ei(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ei(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(t=>!t.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(a,m)=>a||!!m.getColumnsDiff(),t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();let i=this._headerRowDefs.reduce(e,!1);i&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),t||i||o}_switchDataSource(e){this._data=[],Ot(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Ot(this.dataSource)?e=this.dataSource.connect(this):Ti(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Z(this.dataSource)),this._renderChangeSubscription=e.pipe(q(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){let i=Array.from(t.columns||[]).map(m=>{let f=this._columnDefsByName.get(m);return f}),o=i.map(m=>m.sticky),a=i.map(m=>m.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let t=[];for(let i=0;i<e.viewContainer.length;i++){let o=e.viewContainer.get(i);t.push(o.rootNodes[0])}return t}_getRowDefs(e,t){if(this._rowDefs.length==1)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(o=>!o.when||o.when(t,e));else{let o=this._rowDefs.find(a=>a.when&&a.when(t,e))||this._defaultRowDef;o&&i.push(o)}return i.length,i}_getEmbeddedViewArgs(e,t){let i=e.rowDef,o={$implicit:e.data};return{templateRef:i.template,context:o,index:t}}_renderRow(e,t,i,o={}){let a=e.viewContainer.createEmbeddedView(t.template,o,i);return this._renderCellTemplateForItem(t,o),a}_renderCellTemplateForItem(e,t){for(let i of this._getCellTemplates(e))Be.mostRecentCellOutlet&&Be.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,t);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let t=0,i=e.length;t<i;t++){let a=e.get(t).context;a.count=i,a.first=t===0,a.last=t===i-1,a.even=t%2===0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[t].dataIndex,a.renderIndex=t):a.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,t=>{let i=this._columnDefsByName.get(t);return e.extractCellTemplate(i)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(t,i)=>t||i.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new bi(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Z()).pipe(q(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let t=this._rowOutlet.viewContainer.length===0;if(t===this._isShowingNoDataRow)return;let i=this._noDataRowOutlet.viewContainer;if(t){let o=i.createEmbeddedView(e.templateRef),a=o.rootNodes[0];o.rootNodes.length===1&&a?.nodeType===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else i.clear();this._isShowingNoDataRow=t,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(t){return new(t||n)(d(Ge),d(Ce),d(z),Qe("role"),d(Ze,8),d(je),d(an),d(st),d(ni),d(Tt),d(oi,12),d(de,8))}}static{this.\u0275cmp=w({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,o){if(t&1&&(V(o,ho,5),V(o,nt,5),V(o,si,5),V(o,ut,5),V(o,wi,5)),t&2){let a;O(a=E())&&(i._noDataRow=a.first),O(a=E())&&(i._contentColumnDefs=a),O(a=E())&&(i._contentRowDefs=a),O(a=E())&&(i._contentHeaderRowDefs=a),O(a=E())&&(i._contentFooterRowDefs=a)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){t&2&&ue("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",P],fixedLayout:[2,"fixedLayout","fixedLayout",P]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[$([{provide:se,useExisting:n},{provide:st,useClass:Et},{provide:ni,useClass:yi},{provide:oi,useValue:null}]),K,S],ngContentSelectors:Hr,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){t&1&&(ae(Br),j(0),j(1,1),y(2,zr,1,0)(3,$r,7,0)(4,Wr,4,0)),t&2&&(u(2),Y(i._isServer?2:-1),u(),Y(i._isNativeHtmlTable?3:4))},dependencies:[ki,Mi,Ii,Di],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return n})();function ei(n,r){return n.concat(Array.from(r))}function co(n,r){let e=r.toUpperCase(),t=n.viewContainer.element.nativeElement;for(;t;){let i=t.nodeType===1?t.nodeName:null;if(i===e)return t;if(i==="TABLE")break;t=t.parentNode}return null}var fo=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ce({type:n})}static{this.\u0275inj=le({imports:[jn]})}}return n})();var Qr=[[["caption"]],[["colgroup"],["col"]],"*"],qr=["caption","colgroup, col","*"];function Yr(n,r){n&1&&j(0,2)}function Kr(n,r){n&1&&(s(0,"thead",0),G(1,1),l(),s(2,"tbody",2),G(3,3)(4,4),l(),s(5,"tfoot",0),G(6,5),l())}function Gr(n,r){n&1&&G(0,1)(1,3)(2,4)(3,5)}var ad=(()=>{class n extends Ri{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=oe(n)))(i||n)}})()}static{this.\u0275cmp=w({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,i){t&2&&ue("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[$([{provide:Ri,useExisting:n},{provide:se,useExisting:n},{provide:ni,useClass:yi},{provide:st,useClass:Et},{provide:oi,useValue:null}]),L,S],ngContentSelectors:qr,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){t&1&&(ae(Qr),j(0),j(1,1),y(2,Yr,1,0)(3,Kr,7,0)(4,Gr,4,0)),t&2&&(u(2),Y(i._isServer?2:-1),u(),Y(i._isNativeHtmlTable?3:4))},dependencies:[ki,Mi,Ii,Di],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-app-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-app-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-app-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-app-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-app-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-app-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-app-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-app-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-app-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-app-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return n})(),sd=(()=>{class n extends ri{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=oe(n)))(i||n)}})()}static{this.\u0275dir=x({type:n,selectors:[["","matCellDef",""]],standalone:!0,features:[$([{provide:ri,useExisting:n}]),L]})}}return n})(),ld=(()=>{class n extends ai{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=oe(n)))(i||n)}})()}static{this.\u0275dir=x({type:n,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[$([{provide:ai,useExisting:n}]),L]})}}return n})();var cd=(()=>{class n extends nt{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=oe(n)))(i||n)}})()}static{this.\u0275dir=x({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[$([{provide:nt,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),L]})}}return n})(),dd=(()=>{class n extends mo{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=oe(n)))(i||n)}})()}static{this.\u0275dir=x({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[L]})}}return n})();var ud=(()=>{class n extends po{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=oe(n)))(i||n)}})()}static{this.\u0275dir=x({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[L]})}}return n})();var md=(()=>{class n extends ut{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=oe(n)))(i||n)}})()}static{this.\u0275dir=x({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",P]},standalone:!0,features:[$([{provide:ut,useExisting:n}]),K,L]})}}return n})();var pd=(()=>{class n extends si{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=oe(n)))(i||n)}})()}static{this.\u0275dir=x({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[$([{provide:si,useExisting:n}]),L]})}}return n})(),hd=(()=>{class n extends Si{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=oe(n)))(i||n)}})()}static{this.\u0275cmp=w({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[$([{provide:Si,useExisting:n}]),L,S],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){t&1&&G(0,0)},dependencies:[Be],encapsulation:2})}}return n})();var fd=(()=>{class n extends xi{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=oe(n)))(i||n)}})()}static{this.\u0275cmp=w({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[$([{provide:xi,useExisting:n}]),L,S],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){t&1&&G(0,0)},dependencies:[Be],encapsulation:2})}}return n})();var gd=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ce({type:n})}static{this.\u0275inj=le({imports:[te,fo,te]})}}return n})();export{Vt as a,Ut as b,Un as c,Hn as d,so as e,tt as f,zn as g,Ht as h,$n as i,ad as j,sd as k,ld as l,cd as m,dd as n,ud as o,md as p,pd as q,hd as r,fd as s,gd as t,Qt as u,yl as v,to as w,ao as x};
