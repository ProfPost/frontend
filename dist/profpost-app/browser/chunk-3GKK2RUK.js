import{c as Tt,d as Fe,e as Ae,g as wt,h as ft,i as Ne,t as Ve,v as _t,w as bt,x as je}from"./chunk-N65FLJWE.js";import{$ as Te,A as xe,Ba as ze,Ca as gt,Da as ht,G as Pe,H as ye,I as Me,L as St,S as ct,W as Ie,X as Oe,Y as pt,Z as Se,a as se,b as le,c as ce,d as S,da as we,ea as De,f as pe,g as de,ia as dt,j as me,ja as mt,ka as Ee,l as ue,la as ut,m as ge,ma as Re,q as he,r as fe,s as _e,t as be,ta as Le,u as ve,v as Ce,va as ke,w as It,x as Ot,ya as J}from"./chunk-H3CLWMWT.js";import{a as V,g as oe,h as ne,i as j,j as ae,m as re,n as B,p as lt}from"./chunk-ZAGS7POU.js";import"./chunk-EJJBCPAK.js";import{$ as E,Aa as Vt,Ab as r,Ac as Kt,Ba as jt,Bb as u,Da as q,Fb as O,Fc as te,Hc as ee,Ib as f,Ic as F,Ja as Bt,Jc as A,Kb as g,Nb as Yt,Nc as ie,Oc as N,Pb as qt,Qb as Xt,Rb as Zt,Ub as k,Va as Ut,Vb as l,W as D,Wb as v,Xb as z,Ya as c,Za as _,a as w,aa as it,ac as x,b as Rt,bc as Qt,ca as H,dc as Wt,eb as $t,ec as Jt,fa as p,ga as kt,gc as at,ha as zt,j as G,ja as C,ka as ot,kb as Gt,l as Lt,la as Ft,nb as h,oc as rt,pb as Ht,qb as L,rb as m,rc as st,sa as P,sb as X,sc as W,ta as y,ua as Y,va as At,vb as b,wb as nt,xb as Z,ya as Nt,yb as Q,zb as a}from"./chunk-3G4MZ7MC.js";var vt=class i{isSidebarActive=!1;router=p(j);toggleSidebar(){this.isSidebarActive=!this.isSidebarActive}createNewPublication(){this.router.navigate(["/creator/publications/new"])}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-creator-layout"]],standalone:!0,features:[x],decls:29,vars:2,consts:[[1,"container-layout"],[1,"sidebar"],[1,"logo"],["src","assets/images/intro-nav/logo.png","alt","Logo"],["routerLink","publications-catalog","routerLinkActive","active"],[1,"fas","fa-home"],["mat-icon-button","",3,"click"],[1,"fas","fa-square-plus"],["routerLink","playlist","routerLinkActive","active"],[1,"fas","fa-play-circle"],["routerLink","donations","routerLinkActive","active"],[1,"fas","fa-hands-helping"],[1,"main-content"],[1,"sidebar-toggle-btn",3,"click"],[1,"fas","fa-bars"]],template:function(t,e){t&1&&(u(0,"app-navbar"),a(1,"div",0)(2,"div",1)(3,"div",2),u(4,"img",3),r(),a(5,"nav")(6,"ul"),u(7,"li"),a(8,"li")(9,"a",4),u(10,"i",5),l(11," Inicio "),r()(),a(12,"li")(13,"button",6),f("click",function(){return e.createNewPublication()}),u(14,"i",7),l(15," Publicar "),r()(),a(16,"li")(17,"a",8),u(18,"i",9),l(19," Playlist "),r()(),a(20,"li")(21,"a",10),u(22,"i",11),l(23," Donaciones "),r()()()()(),a(24,"div",12)(25,"button",13),f("click",function(){return e.toggleSidebar()}),u(26,"i",14),r(),u(27,"router-outlet"),r()(),u(28,"app-footer")),t&2&&(c(2),X("collapsed",!e.isSidebarActive))},dependencies:[N,se,ne,ae,le],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0}.container-layout[_ngcontent-%COMP%]{display:flex;background-color:#e5e8d8}.main-content[_ngcontent-%COMP%]{background-color:#e5e8d8;overflow-x:hidden}.sidebar[_ngcontent-%COMP%]{width:200px;height:100vh;background-color:#f8f9f4;padding:20px;box-shadow:2px 0 5px #0000001a;position:fixed;left:0;top:0;transform:translate(0);transition:transform .3s ease;z-index:1000}.sidebar.collapsed[_ngcontent-%COMP%]{transform:translate(-100%)}.sidebar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;display:block;margin:0 auto 20px}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;font-size:16px;color:#333;cursor:pointer;border-radius:8px;text-decoration:none;transition:background-color .3s}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin-right:10px;color:#087443}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#e5e8d8}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#d0e7de;color:#087443}.main-content[_ngcontent-%COMP%]{flex-grow:1;padding:20px;margin-left:200px;transition:margin-left .3s ease}.sidebar.collapsed[_ngcontent-%COMP%] ~ .main-content[_ngcontent-%COMP%]{margin-left:0}.sidebar-toggle-btn[_ngcontent-%COMP%]{position:fixed;top:15px;left:15px;background-color:#087443;color:#fff;border:none;padding:10px;border-radius:4px;cursor:pointer;z-index:1001}.sidebar-toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.sidebar-toggle-btn[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px #087443}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{transform:translate(-100%)}.sidebar.collapsed[_ngcontent-%COMP%]{transform:translate(0)}.main-content[_ngcontent-%COMP%]{margin-left:0}.sidebar-toggle-btn[_ngcontent-%COMP%]{display:block}}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:transparent;border:none;color:#333;padding:10px;font-size:16px;border-radius:8px;width:100%;text-align:left;cursor:pointer;transition:background-color .3s}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin-right:10px;color:#087443}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e5e8d8}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#d0e7de;color:#087443}"]})};var U=class i{baseURL=`${B.baseURL}/publications`;http=p(V);createPublication(n){return this.http.post(`${this.baseURL}/creators`,n)}getPublicationDetailsById(n){return this.http.get(`${this.baseURL}/${n}`)}updatePublication(n,t){return this.http.put(`${this.baseURL}/creators/${n}`,t)}getPublicationDetails(){return this.http.get(`${this.baseURL}`)}deletePublication(n){return this.http.delete(`${this.baseURL}/creators/${n}`)}getPublicationsByCreator(n){return this.http.get(`${this.baseURL}/by-creator`,{params:{creatorId:n.toString()}})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ct=class i{baseURL=`${B.baseURL}/media`;http=p(V);constructor(){}upload(n){return this.http.post(`${this.baseURL}/upload`,n)}getMedia(n){let t=`${this.baseURL}/${n}`;return this.http.get(t,{responseType:"blob"})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})};var xt=class i{baseURL=`${B.baseURL}/category`;http=p(V);constructor(){}getAllCategories(){return this.http.get(this.baseURL)}getCategoryById(n){return this.http.get(`${this.baseURL}/${n}`)}createCategory(n){return this.http.post(this.baseURL,n)}updateCategory(n,t){return this.http.put(`${this.baseURL}/${n}`,t)}deleteCategory(n){return this.http.delete(`${this.baseURL}/${n}`)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})};var We=(i,n)=>n.id;function Je(i,n){i&1&&l(0," Editar ")}function Ke(i,n){i&1&&l(0," Nueva ")}function ti(i,n){if(i&1&&(a(0,"li"),l(1),r()),i&2){let t=n.$implicit;c(),v(t)}}function ei(i,n){if(i&1&&(a(0,"div",1)(1,"ul"),Z(2,ti,2,1,"li",null,nt),r()()),i&2){let t=g();c(2),Q(t.errors)}}function ii(i,n){i&1&&l(0," Este t\xEDtulo es obligatorio ")}function oi(i,n){i&1&&l(0," El t\xEDtulo debe tener al menos 3 caracteres ")}function ni(i,n){i&1&&l(0," El t\xEDtulo debe tener 250 caracteres como m\xE1ximo ")}function ai(i,n){i&1&&l(0," El contenido es obligatorio ")}function ri(i,n){i&1&&l(0," Ingrese una URL v\xE1lida ")}function si(i,n){if(i&1&&(a(0,"mat-option",19),l(1),r()),i&2){let t=n.$implicit;m("value",t),c(),v(t)}}function li(i,n){i&1&&(a(0,"mat-error"),l(1,"La visibilidad es obligatoria"),r())}function ci(i,n){if(i&1&&(a(0,"mat-option",19),l(1),r()),i&2){let t=n.$implicit;m("value",t.id),c(),v(t.name)}}function pi(i,n){i&1&&l(0," La categor\xEDa es obligatoria ")}function di(i,n){i&1&&l(0," Actualizar ")}function mi(i,n){i&1&&l(0," Crear ")}function ui(i,n){if(i&1){let t=O();a(0,"div",2)(1,"form",3),f("ngSubmit",function(){P(t);let o=g();return y(o.save())}),a(2,"mat-form-field",4)(3,"mat-label"),l(4,"T\xEDtulo"),r(),u(5,"input",5),a(6,"mat-error"),h(7,ii,1,0)(8,oi,1,0)(9,ni,1,0),r()(),a(10,"mat-form-field",4)(11,"mat-label"),l(12,"Contenido"),r(),u(13,"textarea",6),a(14,"mat-error"),h(15,ai,1,0),r()(),a(16,"mat-form-field",4)(17,"mat-label"),l(18,"URL del Video"),r(),u(19,"input",7),a(20,"mat-error"),h(21,ri,1,0),r()(),a(22,"div",8)(23,"label",9)(24,"div",10),u(25,"i",11),a(26,"p"),l(27,"Drag & drop your file here, "),u(28,"br"),l(29," OR"),r(),a(30,"button",12),l(31,"Browse"),r()()(),a(32,"input",13),f("change",function(o){P(t);let s=g();return y(s.uploadFile(o,"filePath"))}),r(),a(33,"div",14),l(34),r()(),a(35,"mat-form-field",4)(36,"mat-label"),l(37,"Visibilidad"),r(),a(38,"mat-select",15),h(39,si,2,2,"mat-option",16),r(),h(40,li,2,0,"mat-error",17),r(),a(41,"mat-form-field",4)(42,"mat-label"),l(43,"Categor\xEDa"),r(),a(44,"mat-select",18),Z(45,ci,2,2,"mat-option",19,We),r(),a(47,"mat-error"),h(48,pi,1,0),r()(),a(49,"div",20)(50,"button",21),f("click",function(){P(t);let o=g();return y(o.cancel())}),l(51," Cancelar "),r(),a(52,"button",22),h(53,di,1,0)(54,mi,1,0),l(55," publicaci\xF3n "),r()()()()}if(i&2){let t,e,o=g();c(),m("formGroup",o.form),c(6),b(o.form.get("title").hasError("required")?7:(t=o.form.get("title"))!=null&&t.hasError("minlength")?8:(t=o.form.get("title"))!=null&&t.hasError("maxlength")?9:-1),c(8),b(o.form.get("content").hasError("required")?15:-1),c(6),b(o.form.get("video_url").hasError("pattern")?21:-1),c(13),z(" Ruta actual: ",o.form.get("filePath").value," "),c(5),m("ngForOf",o.visibilityOptions),c(),m("ngIf",(e=o.form.get("visibility"))==null?null:e.hasError("required")),c(5),Q(o.categories),c(3),b(o.form.get("category_id").hasError("required")?48:-1),c(5),b(o.publicationId?53:54)}}var $=class i{publicationService=p(U);mediaService=p(Ct);categoryService=p(xt);userSearchService=p(ft);authService=p(lt);fb=p(he);router=p(j);route=p(oe);snackBar=p(gt);location=p(te);categories=[];errors=[];publicationId;visibilityOptions=["ALL","STANDARD","PREMIUM"];form=this.fb.group({title:["",[S.required,S.minLength(3),S.maxLength(250)]],content:["",[S.required]],video_url:["",[S.pattern("https?://.+")]],visibility:["",[S.required]],category_id:["",S.required],creator_id:["",S.required],filePath:["",[S.pattern(/.+\.jpg|.jpeg|.png|.gif|.bmp$/)]],userId:[this.authService.getUser()?.id]});ngOnInit(){this.publicationId=Number(this.route.snapshot.paramMap.get("id")),this.loadCategories(),this.loadCreatorId()}loadCategories(){this.categoryService.getAllCategories().subscribe({next:n=>{this.categories=n,this.publicationId&&this.loadPublicationForEdit()},error:()=>this.errors.push("Error al cargar las categor\xEDas.")})}loadPublicationForEdit(){this.publicationService.getPublicationDetailsById(this.publicationId).subscribe({next:n=>{let t=this.categories.find(e=>e.name===n.categoryname);t&&this.form.patchValue(Rt(w({},n),{category_id:t.id}))},error:()=>this.errors.push("Error al cargar los detalles de la publicaci\xF3n.")})}loadCreatorId(){let n=this.authService.getUser()?.id;n&&this.userSearchService.getCreatorId(n).subscribe({next:t=>{this.form.patchValue({creator_id:t})},error:t=>{console.error("Error al obtener el Creator ID:",t),this.snackBar.open("Error al obtener el Creator ID","Cerrar",{duration:3e3})}})}uploadFile(n,t){let e=n.target.files?.[0];if(e){let o=new FormData;o.append("file",e),this.mediaService.upload(o).subscribe({next:s=>this.form.controls[t].setValue(s.path),error:()=>this.errors.push("Error al cargar el archivo.")})}}save(){if(this.form.invalid){this.form.markAllAsTouched();return}let n=w({},this.form.value);(!n.video_url||n.video_url.trim()==="")&&delete n.video_url,(this.publicationId?this.publicationService.updatePublication(this.publicationId,n):this.publicationService.createPublication(n)).subscribe({next:()=>{this.snackBar.open("Publicaci\xF3n guardada exitosamente","Cerrar",{duration:3e3}),this.router.navigate(["/creator/publications-catalog"])},error:e=>{this.errors=e.error.errors||["Error al guardar la publicaci\xF3n"],this.snackBar.open("Error al guardar la publicaci\xF3n","Cerrar",{duration:3e3})}})}cancel(){this.location.back()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-publication-form"]],standalone:!0,features:[x],decls:7,vars:3,consts:[[1,"publication-form-container"],[1,"alert","alert-danger","mt-5"],[1,"row","justify-content-center"],["autocomplete","off",1,"mt-5",3,"ngSubmit","formGroup"],["appearance","outline",1,"form-field","w-100"],["matInput","","type","text","formControlName","title","placeholder","Ingrese el t\xEDtulo"],["matInput","","formControlName","content","placeholder","Descripci\xF3n"],["matInput","","formControlName","video_url","placeholder","Ingrese la URL","type","url"],[1,"file-upload","w-100"],["for","fileInput"],[1,"file-upload-content"],[1,"fas","fa-light","fa-image"],["type","button",1,"upload-button"],["id","fileInput","type","file","accept","application/png",1,"file-input",3,"change"],[1,"small","text-muted"],["formControlName","visibility"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","category_id"],[3,"value"],[1,"action-buttons","text-end"],["mat-button","","type","button",1,"cancelar",3,"click"],["mat-raised-button","",1,"crear-publicacion","ms-2"]],template:function(t,e){t&1&&(a(0,"div",0)(1,"h1"),h(2,Je,1,0)(3,Ke,1,0),l(4," publicaci\xF3n "),r(),h(5,ei,4,0,"div",1)(6,ui,56,9,"div",2),r()),t&2&&(c(2),b(e.publicationId?2:3),c(3),b(e.errors.length?5:-1),c(),b(e.form?6:-1))},dependencies:[_e,me,ce,pe,de,ue,ge,re,mt,dt,we,De,ut,Ee,pt,Ie,bt,_t,ct,ht,F,A],styles:[".publication-form-container[_ngcontent-%COMP%]{max-width:600px;margin:auto;padding:20px;background-color:#f8f9f4;border-radius:8px;box-shadow:0 4px 6px #0000001a;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}h1[_ngcontent-%COMP%]{font-size:19px;color:#333;text-align:center;margin-bottom:5px;margin-top:5px;font-weight:400}.form-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:15px}.file-input-group[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.file-input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;display:block;margin-bottom:5px}.file-input-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:5px;color:#6c757d}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:15px}.image-preview[_ngcontent-%COMP%]{margin-top:20px;text-align:center;flex:1}.cover-image[_ngcontent-%COMP%]{width:100%;max-width:200px;height:auto;border-radius:5px;box-shadow:0 4px 8px #0003}.file-upload[_ngcontent-%COMP%]{width:100%;padding:20px;border:2px dashed #087443;text-align:center;color:#087443;border-radius:8px;background-color:#f9f9f9;position:relative;cursor:pointer;margin-bottom:20px}.file-upload-content[_ngcontent-%COMP%]{font-size:14px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px}.upload-icon[_ngcontent-%COMP%]{width:50px;height:50px}.file-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}.upload-button[_ngcontent-%COMP%]{background-color:#087443;color:#fff;border:none;padding:8px 14px;font-size:14px;cursor:pointer;border-radius:4px}.upload-button[_ngcontent-%COMP%]:hover{background-color:#065634}button.crear-publicacion[_ngcontent-%COMP%]{background-color:#087443;color:#fff;border:none;padding:8px 16px;font-size:14px;border-radius:4px;cursor:pointer}button.crear-publicacion[_ngcontent-%COMP%]:hover{background-color:#065634}button.cancelar[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#333;border:none;padding:8px 16px;font-size:14px;border-radius:4px;cursor:pointer}button.cancelar[_ngcontent-%COMP%]:hover{background-color:#bdbdbd}"]})};var tt=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-category-form"]],standalone:!0,features:[x],decls:2,vars:0,template:function(t,e){t&1&&(a(0,"p"),l(1,"category-form works!"),r())}})};var Pt=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-category-list"]],standalone:!0,features:[x],decls:2,vars:0,template:function(t,e){t&1&&(a(0,"p"),l(1,"category-list works!"),r())}})};function gi(i,n){if(i&1&&(a(0,"div",6)(1,"p"),l(2),r()()),i&2){let t=g(2);c(2),v(t.errorMessage)}}function hi(i,n){if(i&1&&(a(0,"li")(1,"div",9)(2,"span",10),l(3),r(),a(4,"span",11),l(5),Wt(6,"currency"),r()()()),i&2){let t=n.$implicit;c(3),v(t.creatorname),c(2),v(Jt(6,2,t.amount))}}function fi(i,n){if(i&1&&(a(0,"div")(1,"ul",7),h(2,hi,7,4,"li",8),r()()),i&2){let t=g(2);c(2),m("ngForOf",t.donors)}}function _i(i,n){i&1&&(a(0,"p"),l(1,"No se han encontrado donantes para este creador."),r())}function bi(i,n){if(i&1&&(a(0,"div",3)(1,"h2"),l(2,"Donantes"),r(),h(3,gi,3,1,"div",4)(4,fi,3,1,"div",5)(5,_i,2,0,"ng-template",null,0,at),r()),i&2){let t=k(6),e=g();c(3),m("ngIf",e.errorMessage),c(),m("ngIf",e.donors.length>0)("ngIfElse",t)}}function vi(i,n){i&1&&(a(0,"div",12)(1,"p"),l(2,"Cargando..."),r()())}var yt=class i{donors=[];isLoading=!0;errorMessage=null;donationService=p(Ae);ngOnInit(){this.loadDonors()}loadDonors(){let n=JSON.parse(localStorage.getItem("profpost_auth")||"{}").id;n&&this.donationService.getDonationAmount(n).subscribe(t=>{this.donors=t,this.isLoading=!1},t=>{this.errorMessage="Error al cargar los donantes",this.isLoading=!1})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-donation"]],standalone:!0,features:[x],decls:2,vars:2,consts:[["noDonorsMessage",""],["class","donors-container",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"donors-container"],["class","error-message",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"error-message"],[1,"donors-list"],[4,"ngFor","ngForOf"],[1,"donor-item"],[1,"creator-name"],[1,"donation-amount"],[1,"loading-spinner"]],template:function(t,e){t&1&&h(0,bi,7,3,"div",1)(1,vi,3,0,"div",2),t&2&&(m("ngIf",!e.isLoading),c(),m("ngIf",e.isLoading))},dependencies:[A,ie,F],styles:[".donors-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto;font-family:Arial,sans-serif}.donors-list[_ngcontent-%COMP%]{list-style-type:none;padding:0}.donor-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-bottom:1px solid #ddd}.creator-name[_ngcontent-%COMP%]{font-weight:700}.donation-amount[_ngcontent-%COMP%]{color:green}.error-message[_ngcontent-%COMP%]{color:red;font-weight:700}.loading-spinner[_ngcontent-%COMP%]{text-align:center;font-size:1.2em;color:#666}"]})};var xi=["tooltip"],$e=20;var Ge=new H("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=p(J);return()=>i.scrollStrategies.reposition({scrollThrottle:$e})}});function Pi(i){return()=>i.scrollStrategies.reposition({scrollThrottle:$e})}var yi={provide:Ge,deps:[J],useFactory:Pi};function Mi(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var Ii=new H("mat-tooltip-default-options",{providedIn:"root",factory:Mi});var Be="tooltip-panel",Ue=ve({passive:!0}),Oi=8,Si=8,Ti=24,wi=200,He=(()=>{class i{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=It(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let e=It(t);this._disabled!==e&&(this._disabled=e,e?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Ot(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Ot(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){let e=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(e)}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,e,o,s,d,M,R,Xe,Ze,Et,I,Qe){this._overlay=t,this._elementRef=e,this._scrollDispatcher=o,this._viewContainerRef=s,this._ngZone=d,this._platform=M,this._ariaDescriber=R,this._focusMonitor=Xe,this._dir=Et,this._defaultOptions=I,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=Di,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._touchstartTimeout=null,this._destroyed=new G,this._injector=p(Nt),this._scrollStrategy=Ze,this._document=Qe,I&&(this._showDelay=I.showDelay,this._hideDelay=I.hideDelay,I.position&&(this.position=I.position),I.positionAtOrigin&&(this.positionAtOrigin=I.positionAtOrigin),I.touchGestures&&(this.touchGestures=I.touchGestures),I.tooltipClass&&(this.tooltipClass=I.tooltipClass)),Et.change.pipe(D(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=Oi}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(D(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([e,o])=>{t.removeEventListener(e,o,Ue)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,e){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(e);this._detach(),this._portal=this._portal||new Re(this._tooltipComponent,this._viewContainerRef);let s=this._tooltipInstance=o.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(D(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(t)}hide(t=this.hideDelay){let e=this._tooltipInstance;e&&(e.isVisible()?e.hide(t):(e._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof q)return this._overlayRef;this._detach()}let e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return o.positionChanges.pipe(D(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${Be}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(D(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(D(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(D(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!Ce(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let e=t.getConfig().positionStrategy,o=this._getOrigin(),s=this._getOverlayPosition();e.withPositions([this._addOffset(w(w({},o.main),s.main)),this._addOffset(w(w({},o.fallback),s.fallback))])}_addOffset(t){let e=Si,o=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-e:t.originY==="bottom"?t.offsetY=e:t.originX==="start"?t.offsetX=o?-e:e:t.originX==="end"&&(t.offsetX=o?e:-e),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",e=this.position,o;e=="above"||e=="below"?o={originX:"center",originY:e=="above"?"top":"bottom"}:e=="before"||e=="left"&&t||e=="right"&&!t?o={originX:"start",originY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(o={originX:"end",originY:"center"});let{x:s,y:d}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:s,originY:d}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",e=this.position,o;e=="above"?o={overlayX:"center",overlayY:"bottom"}:e=="below"?o={overlayX:"center",overlayY:"top"}:e=="before"||e=="left"&&t||e=="right"&&!t?o={overlayX:"end",overlayY:"center"}:(e=="after"||e=="right"&&t||e=="left"&&!t)&&(o={overlayX:"start",overlayY:"center"});let{x:s,y:d}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:s,overlayY:d}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Ht(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return this.position==="above"||this.position==="below"?e==="top"?e="bottom":e==="bottom"&&(e="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:e}}_updateCurrentPositionClass(t){let{overlayY:e,originX:o,originY:s}=t,d;if(e==="center"?this._dir&&this._dir.value==="rtl"?d=o==="end"?"left":"right":d=o==="start"?"left":"right":d=e==="bottom"&&s==="top"?"above":"below",d!==this._currentPosition){let M=this._overlayRef;if(M){let R=`${this._cssClassPrefix}-${Be}-`;M.removePanelClass(R+this._currentPosition),M.addPanelClass(R+d)}this._currentPosition=d}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let e;t.x!==void 0&&t.y!==void 0&&(e=t),this.show(void 0,e)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let e=t.targetTouches?.[0],o=e?{x:e.clientX,y:e.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let s=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions.touchLongPressShowDelay??s)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",e=>{let o=e.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",e=>this._wheelListener(e)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let e=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([e,o])=>{this._elementRef.nativeElement.addEventListener(e,o,Ue)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let e=this._document.elementFromPoint(t.clientX,t.clientY),o=this._elementRef.nativeElement;e!==o&&!o.contains(e)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let e=this._elementRef.nativeElement,o=e.style;(t==="on"||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(t==="on"||!e.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}static{this.\u0275fac=function(e){return new(e||i)(_(J),_(q),_(Le),_($t),_(jt),_(be),_(xe),_(Pe),_(Ge),_(Me),_(Ii,8),_(Kt))}}static{this.\u0275dir=Ft({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(e,o){e&2&&X("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return i})(),Di=(()=>{class i{constructor(t,e,o){this._changeDetectorRef=t,this._elementRef=e,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new G,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled=o==="NoopAnimations"}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>Ti&&t.width>=wi}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let e=this._tooltip.nativeElement,o=this._showAnimation,s=this._hideAnimation;if(e.classList.remove(t?s:o),e.classList.add(t?o:s),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let d=getComputedStyle(e);(d.getPropertyValue("animation-duration")==="0s"||d.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(e.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static{this.\u0275fac=function(e){return new(e||i)(_(rt),_(q),_(Bt,8))}}static{this.\u0275cmp=C({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(e,o){if(e&1&&qt(xi,7),e&2){let s;Xt(s=Zt())&&(o._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(e,o){e&1&&f("mouseleave",function(d){return o._handleMouseLeave(d)})},standalone:!0,features:[x],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(e,o){if(e&1){let s=O();a(0,"div",1,0),f("animationend",function(M){return P(s),y(o._handleAnimationEnd(M))}),a(2,"div",2),l(3),r()()}e&2&&(X("mdc-tooltip--multiline",o._isMultiline),m("ngClass",o.tooltipClass),c(3),v(o.message))},dependencies:[ee],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-app-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-app-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-app-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-app-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-app-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-app-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-app-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return i})();var Ye=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=ot({type:i})}static{this.\u0275inj=it({providers:[yi],imports:[ye,N,ze,St,St,ke]})}}return i})();function Ei(i,n){if(i&1&&(a(0,"mat-option",17),l(1),r()),i&2){let t=n.$implicit;m("value",t),c(),z(" ",t," ")}}function Ri(i,n){if(i&1){let t=O();a(0,"mat-form-field",14)(1,"mat-select",16,0),f("selectionChange",function(o){P(t);let s=g(2);return y(s._changePageSize(o.value))}),Z(3,Ei,2,2,"mat-option",17,nt),r(),a(5,"div",18),f("click",function(){P(t);let o=k(2);return y(o.open())}),r()()}if(i&2){let t=g(2);m("appearance",t._formFieldAppearance)("color",t.color),c(),m("value",t.pageSize)("disabled",t.disabled)("aria-labelledby",t._pageSizeLabelId)("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),c(2),Q(t._displayedPageSizeOptions)}}function Li(i,n){if(i&1&&(a(0,"div",15),l(1),r()),i&2){let t=g(2);c(),v(t.pageSize)}}function ki(i,n){if(i&1&&(a(0,"div",3)(1,"div",13),l(2),r(),h(3,Ri,6,7,"mat-form-field",14)(4,Li,2,1,"div",15),r()),i&2){let t=g();c(),L("id",t._pageSizeLabelId),c(),z(" ",t._intl.itemsPerPageLabel," "),c(),b(t._displayedPageSizeOptions.length>1?3:-1),c(),b(t._displayedPageSizeOptions.length<=1?4:-1)}}function zi(i,n){if(i&1){let t=O();a(0,"button",19),f("click",function(){P(t);let o=g();return y(o.firstPage())}),Y(),a(1,"svg",8),u(2,"path",20),r()()}if(i&2){let t=g();m("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),L("aria-label",t._intl.firstPageLabel)}}function Fi(i,n){if(i&1){let t=O();a(0,"button",21),f("click",function(){P(t);let o=g();return y(o.lastPage())}),Y(),a(1,"svg",8),u(2,"path",22),r()()}if(i&2){let t=g();m("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),L("aria-label",t._intl.lastPageLabel)}}var Mt=(()=>{class i{constructor(){this.changes=new G,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,o)=>{if(o==0||e==0)return`0 of ${o}`;o=Math.max(o,0);let s=t*e,d=s<o?Math.min(s+e,o):s+e;return`${s+1} \u2013 ${d} of ${o}`}}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=E({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ai(i){return i||new Mt}var Ni={provide:Mt,deps:[[new kt,new zt,Mt]],useFactory:Ai},Vi=50;var ji=new H("MAT_PAGINATOR_DEFAULT_OPTIONS"),Bi=0,Dt=(()=>{class i{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(t||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=t||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(t||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(e=>W(e,0)),this._updateDisplayedPageSizeOptions()}constructor(t,e,o){if(this._intl=t,this._changeDetectorRef=e,this._pageSizeLabelId=`mat-paginator-page-size-label-${Bi++}`,this._isInitialized=!1,this._initializedStream=new Lt(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Vt,this.initialized=this._initializedStream,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),o){let{pageSize:s,pageSizeOptions:d,hidePageSize:M,showFirstLastButtons:R}=o;s!=null&&(this._pageSize=s),d!=null&&(this._pageSizeOptions=d),M!=null&&(this.hidePageSize=M),R!=null&&(this.showFirstLastButtons=R)}this._formFieldAppearance=o?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;let t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;let t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;let t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;let t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let t=this.getNumberOfPages()-1;return this.pageIndex<t&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){let e=this.pageIndex*this.pageSize,o=this.pageIndex;this.pageIndex=Math.floor(e/t)||0,this.pageSize=t,this._emitPageEvent(o)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:Vi),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,e)=>t-e),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static{this.\u0275fac=function(e){return new(e||i)(_(Mt),_(rt),_(ji,8))}}static{this.\u0275cmp=C({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",W],length:[2,"length","length",W],pageSize:[2,"pageSize","pageSize",W],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",st],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",st],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",st]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[Gt,x],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,o){e&1&&(a(0,"div",1)(1,"div",2),h(2,ki,5,4,"div",3),a(3,"div",4)(4,"div",5),l(5),r(),h(6,zi,3,5,"button",6),a(7,"button",7),f("click",function(){return o.previousPage()}),Y(),a(8,"svg",8),u(9,"path",9),r()(),At(),a(10,"button",10),f("click",function(){return o.nextPage()}),Y(),a(11,"svg",8),u(12,"path",11),r()(),h(13,Fi,3,5,"button",12),r()()()),e&2&&(c(2),b(o.hidePageSize?-1:2),c(3),z(" ",o._intl.getRangeLabel(o.pageIndex,o.pageSize,o.length)," "),c(),b(o.showFirstLastButtons?6:-1),c(),m("matTooltip",o._intl.previousPageLabel)("matTooltipDisabled",o._previousButtonsDisabled())("matTooltipPosition","above")("disabled",o._previousButtonsDisabled()),L("aria-label",o._intl.previousPageLabel),c(3),m("matTooltip",o._intl.nextPageLabel)("matTooltipDisabled",o._nextButtonsDisabled())("matTooltipPosition","above")("disabled",o._nextButtonsDisabled()),L("aria-label",o._intl.nextPageLabel),c(3),b(o.showFirstLastButtons?13:-1))},dependencies:[dt,_t,ct,Oe,He],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-app-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-app-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-app-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-app-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-app-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-app-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-app-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-app-on-surface-variant))}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}"],encapsulation:2,changeDetection:0})}}return i})(),qe=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=ot({type:i})}static{this.\u0275inj=it({providers:[Ni],imports:[pt,bt,Ye,Dt]})}}return i})();var $i=()=>[5,10,20];function Gi(i,n){if(i&1){let t=O();a(0,"div",4)(1,"mat-card")(2,"mat-card-content")(3,"p"),l(4),r(),a(5,"p"),l(6),r(),a(7,"p"),l(8),r(),a(9,"a",5),l(10),r(),a(11,"div",6)(12,"button",7),f("click",function(){let o=P(t).$implicit,s=g(3);return y(s.editPublication(o.id))}),u(13,"i",8),r(),a(14,"button",9),f("click",function(){let o=P(t).$implicit,s=g(3);return y(s.deletePublication(o.id))}),u(15,"i",10),r()()()(),u(16,"div",11),r()}if(i&2){let t=n.$implicit;c(4),v(t.creatorname),c(2),v(t.title),c(2),v(t.content),c(),Yt("href",t.video_url,Ut),c(),v(t.video_url)}}function Hi(i,n){if(i&1&&(a(0,"div"),h(1,Gi,17,5,"div",3),r()),i&2){let t=g(2);c(),m("ngForOf",t.publications)}}function Yi(i,n){i&1&&(a(0,"p"),l(1,"No hay publicaciones registradas"),r())}function qi(i,n){if(i&1&&(a(0,"h3"),l(1,"Publicaciones"),r(),h(2,Hi,2,1,"div",2)(3,Yi,2,0,"ng-template",null,0,at)),i&2){let t=k(4),e=g();c(2),m("ngIf",e.publications&&e.publications.length>0)("ngIfElse",t)}}function Xi(i,n){i&1&&(a(0,"p"),l(1,"No hay publicaciones registradas"),r())}var et=class i{publications=[];filteredPublications=[];filterText="";displayedColumns=["creatorname","title","content","video_url","actions"];totalElements=0;pageSize=5;pageIndex=0;snackBar=p(gt);publicationService=p(U);router=p(j);userSearchService=p(ft);authService=p(lt);ngOnInit(){this.loadPublications()}loadPublications(n=0,t=5){let e=this.authService.getUser()?.id;e&&this.userSearchService.getCreatorId(e).subscribe({next:o=>{this.publicationService.getPublicationsByCreator(o).subscribe({next:s=>{let d=n*t,M=d+t;this.publications=s.slice(d,M),this.filteredPublications=this.publications,this.totalElements=s.length,this.pageSize=t,this.pageIndex=n,console.log(this.publications)},error:()=>this.showSnackBar("Error al cargar la lista de publicaciones del creador")})},error:()=>this.showSnackBar("Error al obtener el ID del creador")})}editPublication(n){this.router.navigate(["/creator/publications/edit",n])}onPageChange(n){this.pageIndex=n.pageIndex,this.pageSize=n.pageSize,this.loadPublications(this.pageIndex,this.pageSize)}deletePublication(n){confirm("\xBFEst\xE1s seguro de que deseas eliminar esta publicaci\xF3n?")&&this.publicationService.deletePublication(n).subscribe({next:()=>{this.showSnackBar("Publicaci\xF3n eliminado exitosamente"),this.loadPublications(this.pageIndex,this.pageSize)},error:()=>this.showSnackBar("Error al eliminar la publicaci\xF3n")})}showSnackBar(n){this.snackBar.open(n,"Cerrar",{duration:3e3})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-publication-list"]],standalone:!0,features:[x],decls:3,vars:6,consts:[["noPublications",""],[3,"page","length","pageSize","pageIndex","pageSizeOptions"],[4,"ngIf","ngIfElse"],["class","publication-card",4,"ngFor","ngForOf"],[1,"publication-card"],["target","_blank",3,"href"],[1,"button-group"],["mat-icon-button","","color","accent",3,"click"],[1,"fas","fa-light","fa-pen-to-square"],["mat-icon-button","","color","warn",3,"click"],[1,"fas","fa-regular","fa-trash"],[1,"spacer"]],template:function(t,e){t&1&&(h(0,qi,5,2)(1,Xi,2,0,"p"),a(2,"mat-paginator",1),f("page",function(s){return e.onPageChange(s)}),r()),t&2&&(b(e.publications?0:1),c(2),m("length",e.totalElements)("pageSize",e.pageSize)("pageIndex",e.pageIndex)("pageSizeOptions",Qt(5,$i)))},dependencies:[N,F,A,Ve,qe,Dt,ht,mt,ut,fe,Te,Se],styles:[".publication-card[_ngcontent-%COMP%]{margin-bottom:16px}.spacer[_ngcontent-%COMP%]{height:16px}h3[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:22px;color:#333;text-align:center;margin-bottom:5px;margin-top:5px;font-weight:400}.publication-card[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:450px;margin:16px auto;background-color:#f5f5f5;color:#333;padding:16px;border-radius:8px;box-shadow:0 4px 8px #0003}.spacer[_ngcontent-%COMP%]{height:6px}.publication-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem;color:#666}@media (max-width: 600px){.publication-card[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{max-width:50%;padding:12px}.publication-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.publication-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem}.publication-card[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.85rem}}.button-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#5c5c5c;display:flex;justify-content:flex-end}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;padding:0;margin-right:12px;cursor:pointer}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#333}.card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.button-group[_ngcontent-%COMP%]{display:flex;gap:8px;margin-left:auto;margin-right:auto}  .mat-mdc-paginator{background-color:#f5f5f5;color:#333;padding:5px;border-radius:8px;box-shadow:0 4px 8px #0003;display:flex}"]})};var Ca=[{path:"",component:vt,children:[{path:"profile",component:Tt},{path:"profile/update",component:Fe},{path:"publications-catalog",component:je},{path:"playlist",component:wt},{path:"publications/new",component:$},{path:"publications/list",component:et},{path:"playlist",component:wt},{path:"donations",component:yt},{path:"publications/edit/:id",component:$},{path:"category/new",component:tt},{path:"category/edit/:id",component:tt},{path:"category/list",component:Pt},{path:"search",component:Ne},{path:"profile",component:Tt,children:[{path:"list",component:et}]}]}];export{Ca as creatorroutes};
